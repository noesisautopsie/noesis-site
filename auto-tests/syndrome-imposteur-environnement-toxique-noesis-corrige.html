<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO -->
  <title>Syndrome Imposteur vs Environnement Toxique — Auto-test NOÉSIS</title>
  <meta name="description" content="Grille d'évaluation clinique (60 items) pour distinguer syndrome de l'imposteur (interne) et invalidation environnementale (externe). Analyse par axes, recommandations et orientation.">
  
  <!-- Fonts Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --noir: #111111;
      --blanc-casse: #F9F9F6;
      --gris-clair: #F5F4F0;
      --bordeaux: #7D3C4A;
      --bordeaux-leger: #9D5C6A;
      --gris-texte: #555555;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Crimson Text', serif;
      font-size: 19px;
      line-height: 1.8;
      color: var(--noir);
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      min-height: 100vh;
    }

    /* Navigation NOÉSIS */
    .urgence-banner {
      background: linear-gradient(90deg, var(--bordeaux), var(--bordeaux-leger));
      color: white;
      padding: 11px 0;
      text-align: center;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .urgence-banner a {
      color: white;
      text-decoration: none;
      margin: 0 14px;
      font-weight: 700;
      padding: 4px 12px;
      border-radius: 20px;
      background-color: rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .urgence-banner a:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    nav {
      background-color: white;
      padding: 24px 0;
      box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 43px;
      z-index: 999;
    }

    nav .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--noir);
      text-decoration: none;
      font-variant: small-caps;
    }

    nav ul {
      display: flex;
      gap: 8px;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    nav a:not(.logo) {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 600;
      color: var(--gris-texte);
      text-decoration: none;
      padding: 10px 18px;
      border-radius: 40px;
      transition: all 0.3s ease;
    }

    nav a:not(.logo):hover {
      background-color: var(--bordeaux);
      color: white;
    }

    /* Container principal */
    .main-container {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 24px;
    }

    /* Hero Card */
    .hero-card {
      background: white;
      border-radius: 24px;
      padding: 64px 48px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      text-align: center;
    }

    .hero-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 32px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 42px;
    }

    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 48px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 16px;
      line-height: 1.2;
    }

    .hero-subtitle {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 17px;
      color: var(--gris-texte);
      margin-bottom: 48px;
    }

    /* Warning Box */
    .warning-box {
      background: #fffbeb;
      border-left: 5px solid #f59e0b;
      padding: 24px 28px;
      border-radius: 0 12px 12px 0;
      margin-bottom: 48px;
      text-align: left;
    }

    .warning-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: #92400e;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .warning-text {
      font-size: 16px;
      line-height: 1.7;
      color: #78350f;
    }

    /* Méthodologie Section */
    .methodology-section {
      margin-bottom: 48px;
      text-align: left;
    }

    .methodology-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .dimensions-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 16px;
      margin-bottom: 28px;
    }

    .dimension-badge {
      padding: 12px 20px;
      border-radius: 12px;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      font-weight: 600;
      text-align: center;
    }

    .dimension-badge.rose {
      background: #ffe4e6;
      color: #be123c;
    }

    .dimension-badge.amber {
      background: #fef3c7;
      color: #92400e;
    }

    .dimension-badge.sky {
      background: #e0f2fe;
      color: #075985;
    }

    .dimension-badge.fuchsia {
      background: #fae8ff;
      color: #86198f;
    }

    .dimension-badge.violet {
      background: #ede9fe;
      color: #5b21b6;
    }

    .dimension-badge.emerald {
      background: #d1fae5;
      color: #065f46;
    }

    .methodology-text {
      font-size: 17px;
      line-height: 1.8;
      color: var(--gris-texte);
      margin-bottom: 16px;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
      margin: 48px 0;
    }

    .stat-item {
      text-align: center;
    }

    .stat-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      border-radius: 16px;
      color: white;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 8px;
    }

    .stat-label {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      color: var(--gris-texte);
    }

    .btn-primary {
      display: block;
      width: 100%;
      padding: 18px 32px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      color: white;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 18px;
      font-weight: 700;
      text-align: center;
      border: none;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 16px rgba(129, 140, 248, 0.3);
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(129, 140, 248, 0.4);
    }

    /* Question Card */
    .question-card {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      margin-bottom: 32px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e2e8f0;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 32px;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #818cf8, #c084fc);
      transition: width 0.3s ease;
    }

    .progress-text {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      color: var(--gris-texte);
      text-align: center;
      margin-bottom: 8px;
    }

    .question-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 24px;
    }

    .question-number {
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      color: white;
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 18px;
      font-weight: 700;
      flex-shrink: 0;
    }

    .question-text {
      font-size: 19px;
      font-weight: 600;
      color: var(--noir);
      line-height: 1.5;
    }

    .choices-container {
      display: grid;
      gap: 12px;
      margin-top: 32px;
    }

    .choice-button {
      padding: 20px 24px;
      border: 2px solid #e2e8f0;
      background: white;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .choice-button:hover {
      border-color: #818cf8;
      background: #f8faff;
      transform: translateX(4px);
    }

    .choice-button.selected {
      border-color: #818cf8;
      background: linear-gradient(135deg, #eef2ff 0%, #faf5ff 100%);
      box-shadow: 0 2px 12px rgba(129, 140, 248, 0.2);
    }

    .choice-label {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 17px;
      font-weight: 700;
      color: var(--noir);
    }

    .choice-anchor {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      color: var(--gris-texte);
    }

    .nav-buttons {
      display: flex;
      gap: 16px;
      margin-top: 32px;
    }

    .btn-secondary {
      flex: 1;
      padding: 16px 32px;
      background: white;
      color: var(--gris-texte);
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 600;
      border: 2px solid #e2e8f0;
      border-radius: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .btn-secondary:hover:not(:disabled) {
      border-color: var(--bordeaux);
      color: var(--bordeaux);
    }

    .btn-secondary:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    /* Results */
    .results-hero {
      background: white;
      border-radius: 24px;
      padding: 64px 48px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      text-align: center;
      margin-bottom: 32px;
    }

    .results-icon {
      width: 96px;
      height: 96px;
      margin: 0 auto 32px;
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 48px;
    }

    .results-icon.green { background: linear-gradient(135deg, #10b981 0%, #34d399 100%); }
    .results-icon.yellow { background: linear-gradient(135deg, #fbbf24 0%, #fcd34d 100%); }
    .results-icon.orange { background: linear-gradient(135deg, #f97316 0%, #fb923c 100%); }
    .results-icon.red { background: linear-gradient(135deg, #ef4444 0%, #f87171 100%); }

    .results-score {
      font-family: 'Cormorant Garamond', serif;
      font-size: 72px;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .results-band {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 24px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 32px;
    }

    .results-message {
      font-size: 17px;
      line-height: 1.7;
      color: var(--gris-texte);
      max-width: 800px;
      margin: 0 auto 48px;
    }

    .result-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      margin-bottom: 32px;
    }

    .result-card-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 22px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 32px;
    }

    .dimension-result {
      margin-bottom: 24px;
    }

    .dimension-result-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .dimension-result-name {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 600;
      color: var(--noir);
    }

    .dimension-result-value {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      font-weight: 700;
      color: var(--gris-texte);
    }

    .dimension-progress {
      height: 12px;
      background: #f1f5f9;
      border-radius: 12px;
      overflow: hidden;
    }

    .dimension-progress-fill {
      height: 100%;
      border-radius: 12px;
      transition: width 0.5s ease;
    }

    .dimension-progress-fill.rose { background: linear-gradient(90deg, #f43f5e, #fb7185); }
    .dimension-progress-fill.amber { background: linear-gradient(90deg, #fbbf24, #fcd34d); }
    .dimension-progress-fill.sky { background: linear-gradient(90deg, #0ea5e9, #38bdf8); }
    .dimension-progress-fill.fuchsia { background: linear-gradient(90deg, #d946ef, #e879f9); }
    .dimension-progress-fill.violet { background: linear-gradient(90deg, #8b5cf6, #a78bfa); }
    .dimension-progress-fill.emerald { background: linear-gradient(90deg, #10b981, #34d399); }

    .recommendations-list {
      list-style: none;
      padding: 0;
    }

    .recommendations-list li {
      padding: 16px 20px;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #f8faff 0%, #faf5ff 100%);
      border-left: 4px solid #818cf8;
      border-radius: 0 12px 12px 0;
      font-size: 16px;
      line-height: 1.7;
    }

    .export-buttons {
      display: grid;
      gap: 12px;
      margin-bottom: 32px;
    }

    .export-button {
      padding: 16px 24px;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .export-button.primary {
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      color: white;
    }

    .export-button.primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(129, 140, 248, 0.3);
    }

    .export-button.secondary {
      background: white;
      color: var(--gris-texte);
      border: 2px solid #e2e8f0;
    }

    .export-button.secondary:hover {
      border-color: var(--bordeaux);
      color: var(--bordeaux);
    }

    .email-section {
      margin-bottom: 32px;
    }

    .email-label {
      display: block;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      font-weight: 600;
      color: var(--noir);
      margin-bottom: 12px;
    }

    .email-input-group {
      display: flex;
      gap: 12px;
    }

    .email-input {
      flex: 1;
      padding: 14px 20px;
      font-family: 'Crimson Text', serif;
      font-size: 16px;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .email-input:focus {
      outline: none;
      border-color: #818cf8;
    }

    .email-button {
      padding: 14px 24px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      color: white;
      font-size: 18px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .email-button:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(129, 140, 248, 0.3);
    }

    .email-button:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .reset-link {
      display: block;
      text-align: center;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      color: var(--bordeaux);
      text-decoration: none;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .reset-link:hover {
      color: var(--bordeaux-leger);
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
    }

    .profile-section {
      background: linear-gradient(135deg, #eef2ff 0%, #faf5ff 100%);
      padding: 24px;
      border-radius: 16px;
      border-left: 4px solid #818cf8;
      margin-bottom: 32px;
    }

    .profile-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: #4338ca;
      margin-bottom: 12px;
    }

    .profile-text {
      font-size: 16px;
      line-height: 1.7;
      color: var(--gris-texte);
    }

    @media (max-width: 768px) {
      .hero-card, .question-card, .results-hero, .result-card {
        padding: 32px 24px;
      }

      .hero-title {
        font-size: 36px;
      }

      .stats-grid, .results-grid {
        grid-template-columns: 1fr;
        gap: 24px;
      }

      .dimensions-grid {
        grid-template-columns: 1fr;
      }

      nav .container {
        flex-direction: column;
        gap: 20px;
      }

      nav ul {
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <!-- Bande urgence -->
  <div class="urgence-banner">
    🚨 En danger ? <a href="tel:3919">3919</a> | SMS : <a href="sms:114">114</a> | Urgences : <a href="tel:17">17</a>
  </div>

  <!-- Navigation -->
  <nav>
    <div class="container">
      <a href="/" class="logo">NOÉSIS</a>
      <ul>
        <li><a href="/">Accueil</a></li>
        <li><a href="/methode">La Méthode</a></li>
        <li><a href="/articles">Articles</a></li>
        <li><a href="/auto-tests">Auto-tests</a></li>
        <li><a href="/livres">Livres</a></li>
        <li><a href="/accompagnement">Accompagnement</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Application Container -->
  <div id="app"></div>

  <script>
    // ============================================================
    // CONFIGURATION
    // ============================================================

    const DIMENSIONS = [
      { key: "auto", label: "Auto-dévalorisation cognitive", color: "rose" },
      { key: "perf", label: "Sur-contrôle & perfectionnisme", color: "amber" },
      { key: "valid", label: "Validation externe & comparaisons", color: "sky" },
      { key: "climat", label: "Climat professionnel invalidant", color: "fuchsia" },
      { key: "neuro", label: "Réponses neuro-émotionnelles", color: "violet" },
      { key: "resil", label: "Régulation & résilience", color: "emerald" },
    ];

    const CHOICES = [
      { value: 0, label: "Jamais", anchor: "0 fois / 6 mois" },
      { value: 1, label: "Parfois", anchor: "1-3× / mois" },
      { value: 2, label: "Souvent", anchor: "1-3× / semaine" },
      { value: 3, label: "Très souvent", anchor: "Quasi quotidien" }
    ];

    const QUESTIONS = [
      // Auto-dévalorisation cognitive (10)
      {id:"Q1", dim:"auto", text:"J'attribue mes réussites à la chance ou à des facteurs externes."},
      {id:"Q2", dim:"auto", text:"Je me dis que je trompe les autres sur mes compétences."},
      {id:"Q3", dim:"auto", text:"Je minimise mes réalisations dès qu'on me félicite."},
      {id:"Q4", dim:"auto", text:"Je crains d'être 'démasqué·e' à tout moment."},
      {id:"Q5", dim:"auto", text:"Je pense que je ne mérite pas ma position actuelle."},
      {id:"Q6", dim:"auto", text:"Je doute systématiquement de la validité de mes idées."},
      {id:"Q7", dim:"auto", text:"Je me sens inférieur·e aux autres malgré des résultats équivalents."},
      {id:"Q8", dim:"auto", text:"Je pense que mon succès est dû à des circonstances favorables."},
      {id:"Q9", dim:"auto", text:"J'ai l'impression d'avoir trompé les recruteurs lors de mon embauche."},
      {id:"Q10", dim:"auto", text:"Je ressens une gêne profonde quand on reconnaît mes compétences."},
      
      // Sur-contrôle & perfectionnisme (10)
      {id:"Q11", dim:"perf", text:"Je travaille excessivement pour compenser un sentiment d'insuffisance."},
      {id:"Q12", dim:"perf", text:"Je vérifie mon travail de manière compulsive par peur de l'erreur."},
      {id:"Q13", dim:"perf", text:"Je repousse mes limites au point d'épuisement récurrent."},
      {id:"Q14", dim:"perf", text:"Je me fixe des standards impossibles à atteindre."},
      {id:"Q15", dim:"perf", text:"Je procrastine par peur de ne pas faire parfaitement."},
      {id:"Q16", dim:"perf", text:"Je sur-prépare les tâches simples pour éviter toute critique."},
      {id:"Q17", dim:"perf", text:"Je ressens une anxiété importante face aux délais."},
      {id:"Q18", dim:"perf", text:"Je me bloque face à des tâches floues par peur de mal faire."},
      {id:"Q19", dim:"perf", text:"J'éprouve un besoin persistant d'anticiper tous les risques."},
      {id:"Q20", dim:"perf", text:"Je travaille au-delà du raisonnable pour 'mériter ma place'."},
      
      // Validation externe & comparaisons (10)
      {id:"Q21", dim:"valid", text:"Je cherche des confirmations fréquentes pour être rassuré·e."},
      {id:"Q22", dim:"valid", text:"Je crains fortement le jugement hiérarchique."},
      {id:"Q23", dim:"valid", text:"Je me sens 'illégitime' sans validation explicite."},
      {id:"Q24", dim:"valid", text:"Je me compare aux plus performants et me sens inférieur·e."},
      {id:"Q25", dim:"valid", text:"Je doute de moi si je ne reçois pas de feedback positif."},
      {id:"Q26", dim:"valid", text:"Je sur-interprète les silences comme une critique."},
      {id:"Q27", dim:"valid", text:"Je modifie mes idées selon l'avis des autres pour être accepté·e."},
      {id:"Q28", dim:"valid", text:"Je redoute de poser des questions par peur d'être jugé·e."},
      {id:"Q29", dim:"valid", text:"Je me sens 'imposteur' à côté de collègues charismatiques."},
      {id:"Q30", dim:"valid", text:"Je recherche des titres/certifs pour compenser un manque perçu."},
      
      // Climat professionnel invalidant (10)
      {id:"Q31", dim:"climat", text:"On minimise mes apports ou on les attribue à d'autres."},
      {id:"Q32", dim:"climat", text:"Des critiques sont formulées en public sous couvert d'humour."},
      {id:"Q33", dim:"climat", text:"On me prive d'informations ou de réunions clés."},
      {id:"Q34", dim:"climat", text:"Les règles/priorités changent puis on m'en rend responsable."},
      {id:"Q35", dim:"climat", text:"Mon travail est évalué sur des critères non annoncés."},
      {id:"Q36", dim:"climat", text:"Mes alertes factuelles sont balayées comme 'interprétations'."},
      {id:"Q37", dim:"climat", text:"Je suis interrompu·e, coupé·e, ou invisibilisé·e en réunion."},
      {id:"Q38", dim:"climat", text:"Je reçois des signaux ambigus (double contrainte)."},
      {id:"Q39", dim:"climat", text:"Je crains des 'représailles' si je pose des limites."},
      {id:"Q40", dim:"climat", text:"Des décisions me concernant sont prises sans moi."},
      
      // Réponses neuro-émotionnelles (10)
      {id:"Q41", dim:"neuro", text:"Je vis en hypervigilance (sur le qui-vive)."},
      {id:"Q42", dim:"neuro", text:"Mon sommeil est perturbé par la rumination professionnelle."},
      {id:"Q43", dim:"neuro", text:"Ma mémoire/attention chute après certaines interactions."},
      {id:"Q44", dim:"neuro", text:"Mon corps réagit (tensions, ventre, tremblements) au travail."},
      {id:"Q45", dim:"neuro", text:"Je redoute d'ouvrir mes mails/DM par anticipation négative."},
      {id:"Q46", dim:"neuro", text:"Je vis des montagnes russes émotionnelles liées au feedback."},
      {id:"Q47", dim:"neuro", text:"Je 'réécris' mes messages pour éviter une réaction."},
      {id:"Q48", dim:"neuro", text:"Je perds le sens du temps après des conflits (flou)."},
      {id:"Q49", dim:"neuro", text:"Je ressens un soulagement physique loin de certaines personnes."},
      {id:"Q50", dim:"neuro", text:"Mon appétit/libido/motivation chute sans autre cause claire."},
      
      // Régulation & résilience (10)
      {id:"Q51", dim:"resil", text:"Je note des faits objectifs pour stabiliser ma réalité."},
      {id:"Q52", dim:"resil", text:"Je sais reconnaître et nommer des comportements toxiques."},
      {id:"Q53", dim:"resil", text:"Je demande du feedback précis et traçable."},
      {id:"Q54", dim:"resil", text:"Je pose des limites claires quand c'est nécessaire."},
      {id:"Q55", dim:"resil", text:"Je sollicite soutien (mentor, pairs, RH) quand je doute."},
      {id:"Q56", dim:"resil", text:"Je consulte (médecin/psy du travail) si mon état décline."},
      {id:"Q57", dim:"resil", text:"Je protège mes temps de repos et de récupération."},
      {id:"Q58", dim:"resil", text:"Je prépare un plan d'options (mobilité, formation, réseau)."},
      {id:"Q59", dim:"resil", text:"Je valorise mes accomplissements avec des preuves concrètes."},
      {id:"Q60", dim:"resil", text:"Je suis prêt·e à demander de l'aide externe si nécessaire."}
    ];

    // ============================================================
    // STATE
    // ============================================================

    let state = {
      view: 'intro',
      currentQuestion: 0,
      answers: {},
      email: ''
    };

    // ============================================================
    // INTERPRETATIONS
    // ============================================================

    function getInterpretation(totalScore) {
      const MAX_TOTAL = 180;
      
      if (totalScore <= 45) {
        return {
          band: "Doute légitime",
          color: "green",
          icon: "✅",
          severity: "none",
          message: "Vos scores révèlent une situation où le questionnement professionnel reste dans des proportions saines. Les doutes que vous exprimez s'inscrivent dans une démarche normale d'auto-évaluation, sans basculer dans la dévalorisation systématique ni dans l'exposition à un environnement structurellement toxique.",
          recommendations: [
            "Maintenir une documentation factuelle de vos réussites et contributions (portfolio, retours positifs écrits).",
            "Cultiver un réseau professionnel diversifié pour confronter votre perception à des regards extérieurs bienveillants.",
            "Pratiquer l'auto-compassion : traiter vos erreurs avec la même indulgence que celles d'un·e collègue."
          ]
        };
      }
      
      if (totalScore <= 90) {
        return {
          band: "Syndrome présent OU signaux environnementaux",
          color: "yellow",
          icon: "⚠️",
          severity: "low",
          message: "Vos résultats indiquent soit un syndrome de l'imposteur significatif avec des patterns cognitifs d'auto-dévalorisation, soit des signaux d'invalidation environnementale qui fragilisent votre confiance professionnelle. Une analyse détaillée par axe est essentielle pour identifier la source primaire de cette tension.",
          recommendations: [
            "Examiner attentivement les scores des axes 'Climat invalidant' et 'Réponses neuro-émotionnelles' : des scores élevés suggèrent une toxicité environnementale.",
            "Consulter un·e psychologue du travail ou un·e coach spécialisé·e pour distinguer les mécanismes internes des facteurs externes.",
            "Documenter de manière systématique les situations d'invalidation (dates, contextes, témoins) pour objectiver la situation.",
            "Identifier des personnes-ressources fiables (mentor, pairs de confiance, représentant·e du personnel) pour valider votre perception."
          ]
        };
      }
      
      if (totalScore <= 135) {
        return {
          band: "Syndrome marqué ET environnement toxique",
          color: "orange",
          icon: "🚨",
          severity: "moderate",
          message: "Vos scores révèlent une situation complexe où syndrome de l'imposteur et environnement professionnel toxique s'entretiennent mutuellement. Vous êtes probablement exposé·e à des pratiques d'invalidation systématique qui amplifient vos doutes légitimes et érodent progressivement votre confiance. Cette configuration nécessite une intervention structurée.",
          recommendations: [
            "PRIORITÉ : Protéger votre santé mentale en consultant un·e professionnel·le (médecin du travail, psychologue clinicien·ne spécialisé·e).",
            "Documenter rigoureusement toutes les situations problématiques avec précision factuelle (dates, contenus, témoins, preuves écrites).",
            "Explorer les recours internes disponibles : entretien avec RH, médiation professionnelle, saisine du CSE ou représentants du personnel.",
            "Préparer activement un plan B : mise à jour CV, activation réseau, exploration mobilité interne ou externe, formation qualifiante.",
            "Sécuriser vos droits : consulter un·e juriste spécialisé·e en droit du travail si des éléments de harcèlement moral sont identifiés."
          ]
        };
      }
      
      return {
        band: "Situation d'urgence",
        color: "red",
        icon: "🆘",
        severity: "high",
        message: "Vos résultats témoignent d'une situation professionnelle gravement pathogène combinant auto-dévalorisation massive et exposition prolongée à un environnement toxique. Les réponses neuro-émotionnelles que vous décrivez suggèrent un risque avéré d'épuisement professionnel (burn-out) et de traumatisation. Une intervention immédiate est impérative.",
        recommendations: [
          "URGENCE ABSOLUE : Consulter immédiatement votre médecin traitant ou médecin du travail pour évaluation de votre état de santé et envisager un arrêt de travail si nécessaire.",
          "Ne pas rester isolé·e : alerter un·e proche de confiance, contacter une association spécialisée ou un numéro d'écoute (3114 - prévention suicide).",
          "Mobiliser tous les recours disponibles : saisine urgente du médecin du travail, signalement auprès de l'inspection du travail, droit d'alerte auprès du CSE.",
          "Préserver toutes les preuves écrites (emails, SMS, notes de service) en lieu sûr (copie personnelle, cloud sécurisé).",
          "Consulter en urgence un·e avocat·e spécialisé·e en harcèlement moral pour évaluer vos droits et options juridiques.",
          "Envisager sérieusement une extraction de l'environnement toxique : démission stratégique, rupture conventionnelle, ou maintien du poste sous protection médicale stricte."
        ]
      };
    }

    function getAxisAnalysis(dimScores) {
      const sorted = Object.entries(dimScores)
        .map(([key, score]) => ({ key, score, dim: DIMENSIONS.find(d => d.key === key) }))
        .sort((a, b) => b.score - a.score);
      
      const dominant = sorted[0];
      
      const analyses = {
        auto: "L'auto-dévalorisation cognitive est votre dimension dominante. Vous avez tendance à minimiser systématiquement vos accomplissements et à attribuer vos succès à des facteurs externes plutôt qu'à vos compétences réelles.",
        perf: "Le sur-contrôle et le perfectionnisme dominent votre profil. Vous vous imposez probablement des standards excessifs et vivez dans une anxiété constante de l'erreur, ce qui peut générer un épuisement significatif.",
        valid: "La recherche de validation externe est au cœur de vos difficultés. Votre estime professionnelle dépend fortement du feedback d'autrui, vous rendant vulnérable aux jugements et à la comparaison sociale.",
        climat: "Le climat professionnel invalidant est votre dimension principale. Les scores suggèrent une exposition à des pratiques organisationnelles toxiques qui érodent systématiquement votre confiance et votre légitimité.",
        neuro: "Les réponses neuro-émotionnelles dominent votre profil. Votre corps et votre psyché montrent des signes de stress chronique lié à votre environnement professionnel, nécessitant une attention immédiate.",
        resil: "La régulation et la résilience sont vos points forts. Vous disposez déjà de stratégies de protection et d'un réseau de soutien, ce qui constitue un facteur protecteur important face aux difficultés."
      };
      
      return {
        dominant: dominant.key,
        analysis: analyses[dominant.key]
      };
    }

    // ============================================================
    // RENDER FUNCTIONS
    // ============================================================

    function render() {
      const app = document.getElementById('app');
      
      if (state.view === 'intro') {
        app.innerHTML = renderIntro();
      } else if (state.view === 'questionnaire') {
        app.innerHTML = renderQuestionnaire();
      } else if (state.view === 'results') {
        app.innerHTML = renderResults();
      }
    }

    function renderIntro() {
      return `
        <div class="main-container">
          <div class="hero-card">
            <div class="hero-icon">🎭</div>
            <h1 class="hero-title">Syndrome de l'Imposteur vs<br/>Environnement Toxique</h1>
            <p class="hero-subtitle">Grille d'évaluation clinique — 60 items</p>

            <div class="warning-box">
              <div class="warning-title">
                ⚠️ Avertissement méthodologique
              </div>
              <p class="warning-text">
                Cet auto-test de 60 items <strong>ne constitue pas un diagnostic clinique</strong>. 
                Il s'agit d'une grille d'évaluation rigoureuse destinée à identifier la nature et l'origine de vos doutes professionnels : syndrome de l'imposteur (mécanismes internes) versus exposition à un environnement toxique (facteurs externes).
              </p>
            </div>

            <div class="methodology-section">
              <div class="methodology-title">
                🔬 Méthodologie
              </div>
              
              <div class="dimensions-grid">
                ${DIMENSIONS.map(dim => `
                  <div class="dimension-badge ${dim.color}">
                    ${dim.label}
                  </div>
                `).join('')}
              </div>

              <p class="methodology-text">
                Ce test évalue <strong>six dimensions clés</strong> pour distinguer auto-sabotage interne et invalidation environnementale systématique. 
                Chaque question explore des manifestations concrètes du quotidien professionnel sur les <strong>6 derniers mois</strong>.
              </p>
            </div>

            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-icon">⏱️</div>
                <div class="stat-value">18-22 min</div>
                <div class="stat-label">Durée estimée</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">📊</div>
                <div class="stat-value">60 questions</div>
                <div class="stat-label">Questionnaire complet</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">🎯</div>
                <div class="stat-value">6 dimensions</div>
                <div class="stat-label">Analyse multi-axes</div>
              </div>
            </div>

            <button class="btn-primary" onclick="startTest()">
              Commencer le test →
            </button>
          </div>

          <div style="text-align: center; margin-top: 48px; font-size: 13px; color: var(--gris-texte); line-height: 1.8;">
            <p style="font-weight: 600;">NOÉSIS — Syndrome Imposteur v1.0 • © 2025</p>
            <p>Confidentialité : aucune donnée collectée sans action explicite (RGPD)</p>
          </div>
        </div>
      `;
    }

    function renderQuestionnaire() {
      const currentQ = QUESTIONS[state.currentQuestion];
      const progress = Math.round(((state.currentQuestion + 1) / QUESTIONS.length) * 100);
      const answered = Object.keys(state.answers).length;
      const total = QUESTIONS.length;

      return `
        <div class="main-container">
          <div class="question-card">
            <div class="progress-text">
              Question ${state.currentQuestion + 1} sur ${total} • ${answered} réponses complètes
            </div>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${progress}%"></div>
            </div>

            <div class="question-header">
              <div class="question-number">${state.currentQuestion + 1}</div>
              <div class="question-text">${currentQ.text}</div>
            </div>

            <div class="choices-container">
              ${CHOICES.map(choice => `
                <button 
                  class="choice-button ${state.answers[currentQ.id] === choice.value ? 'selected' : ''}"
                  onclick="handleAnswer('${currentQ.id}', ${choice.value})"
                >
                  <div class="choice-label">${choice.label}</div>
                  <div class="choice-anchor">${choice.anchor}</div>
                </button>
              `).join('')}
            </div>

            <div class="nav-buttons">
              <button 
                class="btn-secondary" 
                onclick="previousQuestion()"
                ${state.currentQuestion === 0 ? 'disabled' : ''}
              >
                ← Précédent
              </button>
              <button 
                class="btn-secondary" 
                onclick="nextQuestion()"
                ${state.currentQuestion === QUESTIONS.length - 1 ? 'disabled' : ''}
              >
                Suivant →
              </button>
            </div>

            ${answered === total ? `
              <button class="btn-primary" style="margin-top: 32px;" onclick="submitTest()">
                Voir mes résultats 🎯
              </button>
            ` : ''}
          </div>
        </div>
      `;
    }

    function renderResults() {
      const scores = calculateScores();
      const resultBand = getInterpretation(scores.totalScore);
      const profileAnalysis = getAxisAnalysis(scores.dimensionScores);

      return `
        <div class="main-container">
          <div class="results-hero">
            <div class="results-icon ${resultBand.color}">
              ${resultBand.icon}
            </div>
            <div class="results-score">${scores.totalScore}/180</div>
            <div class="results-band">${resultBand.band}</div>
            <p class="results-message">${resultBand.message}</p>
          </div>

          <div class="result-card">
            <h2 class="result-card-title">Scores par dimension</h2>
            ${renderDimensionScores(scores.dimensionScores)}
            
            <div class="profile-section" style="margin-top: 32px;">
              <div class="profile-title">📌 Ton profil dominant</div>
              <div style="font-family: 'Source Sans Pro', sans-serif; font-size: 15px; font-weight: 600; color: #6366f1; margin-bottom: 8px;">
                ${DIMENSIONS.find(d => d.key === profileAnalysis.dominant)?.label}
              </div>
              <p class="profile-text">${profileAnalysis.analysis}</p>
            </div>
          </div>

          <div class="results-grid">
            <div class="result-card">
              <h2 class="result-card-title">Recommandations prioritaires</h2>
              <ul class="recommendations-list">
                ${resultBand.recommendations.map(rec => `
                  <li>${rec}</li>
                `).join('')}
              </ul>
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Exporter les résultats</h2>
              <div class="export-buttons">
                <button class="export-button primary" onclick="handlePDF()">
                  📄 Télécharger en PDF
                </button>
                <button class="export-button secondary" onclick="handleDownloadJSON()">
                  💾 Télécharger en JSON
                </button>
              </div>

              <div class="email-section">
                <label class="email-label">Envoyer par email</label>
                <div class="email-input-group">
                  <input 
                    type="email" 
                    class="email-input" 
                    placeholder="email@exemple.com"
                    value="${state.email}"
                    onchange="state.email = this.value"
                  >
                  <button 
                    class="email-button" 
                    onclick="handleEmail()"
                    ${!state.email ? 'disabled' : ''}
                  >
                    📧
                  </button>
                </div>
              </div>

              <a class="reset-link" onclick="resetTest()">
                Refaire le test
              </a>
            </div>
          </div>

          <div style="text-align: center; margin-top: 48px; font-size: 13px; color: var(--gris-texte); line-height: 1.8;">
            <p style="font-weight: 600;">NOÉSIS — Syndrome Imposteur v1.0 • © 2025</p>
            <p>Outil de pré-diagnostic d'orientation • Pas un diagnostic médical</p>
            <p>Confidentialité : aucune donnée collectée sans action explicite (RGPD)</p>
          </div>
        </div>
      `;
    }

    function renderDimensionScores(dimensionScores) {
      let html = '';
      
      DIMENSIONS.forEach(dim => {
        const score = dimensionScores[dim.key];
        const max = QUESTIONS.filter(q => q.dim === dim.key).length * 3;
        const percentage = Math.round((score / max) * 100);

        html += `
          <div class="dimension-result">
            <div class="dimension-result-header">
              <span class="dimension-result-name">${dim.label}</span>
              <span class="dimension-result-value">${score}/${max} (${percentage}%)</span>
            </div>
            <div class="dimension-progress">
              <div class="dimension-progress-fill ${dim.color}" style="width: ${percentage}%"></div>
            </div>
          </div>
        `;
      });

      return html;
    }

    // ============================================================
    // CALCULATIONS
    // ============================================================

    function calculateScores() {
      const dimensionScores = {};
      
      DIMENSIONS.forEach(dim => {
        const qs = QUESTIONS.filter(q => q.dim === dim.key);
        const total = qs.reduce((sum, q) => sum + (state.answers[q.id] || 0), 0);
        dimensionScores[dim.key] = total;
      });

      const totalScore = Object.values(dimensionScores).reduce((a, b) => a + b, 0);

      return { dimensionScores, totalScore };
    }

    // ============================================================
    // EVENT HANDLERS
    // ============================================================

    function startTest() {
      state.view = 'questionnaire';
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleAnswer(questionId, value) {
      state.answers[questionId] = value;
      render();
      
      // Passer automatiquement à la question suivante après un court délai
      if (state.currentQuestion < QUESTIONS.length - 1) {
        setTimeout(() => {
          state.currentQuestion++;
          render();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 300);
      }
    }

    function previousQuestion() {
      if (state.currentQuestion > 0) {
        state.currentQuestion--;
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function nextQuestion() {
      if (state.currentQuestion < QUESTIONS.length - 1) {
        state.currentQuestion++;
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function submitTest() {
      const allAnswered = Object.keys(state.answers).length === QUESTIONS.length;
      if (allAnswered) {
        state.view = 'results';
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        alert(`Il reste ${QUESTIONS.length - Object.keys(state.answers).length} question(s) sans réponse.`);
      }
    }

    function resetTest() {
      state = {
        view: 'intro',
        currentQuestion: 0,
        answers: {},
        email: ''
      };
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handlePDF() {
      window.print();
    }

    function handleDownloadJSON() {
      const scores = calculateScores();
      const resultBand = getInterpretation(scores.totalScore);
      const profileAnalysis = getAxisAnalysis(scores.dimensionScores);

      const data = {
        test: "Syndrome Imposteur vs Environnement Toxique",
        version: "1.0",
        date: new Date().toISOString(),
        totalScore: scores.totalScore,
        resultBand: resultBand.band,
        dimensionScores: scores.dimensionScores,
        profileAnalysis: profileAnalysis,
        answers: state.answers
      };

      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `noesis-syndrome-imposteur-${Date.now()}.json`;
      a.click();
    }

    function handleEmail() {
      if (!state.email) return;

      const scores = calculateScores();
      const resultBand = getInterpretation(scores.totalScore);

      const subject = encodeURIComponent(`Résultats Test Syndrome Imposteur NOÉSIS`);
      const body = encodeURIComponent(`
Bonjour,

Voici mes résultats au test Syndrome de l'Imposteur vs Environnement Toxique de NOÉSIS.

Score total : ${scores.totalScore}/180
Profil : ${resultBand.band}

${resultBand.message}

Scores détaillés :
- Auto-dévalorisation cognitive : ${scores.dimensionScores.auto}/${QUESTIONS.filter(q => q.dim === 'auto').length * 3}
- Sur-contrôle & perfectionnisme : ${scores.dimensionScores.perf}/${QUESTIONS.filter(q => q.dim === 'perf').length * 3}
- Validation externe & comparaisons : ${scores.dimensionScores.valid}/${QUESTIONS.filter(q => q.dim === 'valid').length * 3}
- Climat professionnel invalidant : ${scores.dimensionScores.climat}/${QUESTIONS.filter(q => q.dim === 'climat').length * 3}
- Réponses neuro-émotionnelles : ${scores.dimensionScores.neuro}/${QUESTIONS.filter(q => q.dim === 'neuro').length * 3}
- Régulation & résilience : ${scores.dimensionScores.resil}/${QUESTIONS.filter(q => q.dim === 'resil').length * 3}

Recommandations :
${resultBand.recommendations.map((r, i) => `${i+1}. ${r}`).join('\n')}

---
Test réalisé sur https://noesisautopsie.github.io/noesis-site/
      `);

      window.location.href = `mailto:${state.email}?subject=${subject}&body=${body}`;
    }

    // ============================================================
    // INITIALIZATION
    // ============================================================

    render();
  </script>
</body>
</html>