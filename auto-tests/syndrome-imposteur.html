<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO -->
  <title>Syndrome de l'Imposteur vs Environnement Toxique — Auto-test NOÉSIS</title>
  <meta name="description" content="Grille d'évaluation clinique (60 items) pour distinguer syndrome de l'imposteur (interne) et invalidation environnementale (externe). Analyse par dimensions et recommandations.">
  
  <!-- Open Graph -->
  <meta property="og:title" content="Syndrome de l'Imposteur | NOÉSIS">
  <meta property="og:description" content="Évaluation clinique approfondie du syndrome de l'imposteur vs environnement toxique">
  <meta property="og:type" content="website">
  
  <!-- Fonts Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:wght@300;400;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* ============================================================
       VARIABLES CSS NOÉSIS
    ============================================================ */
    :root {
      /* Noirs */
      --noir-absolu: #0A0A0A;
      --noir-doux: #111111;
      --noir-surface: #1A1A1A;
      
      /* Crèmes */
      --creme-principal: #F7F5EF;
      --creme-chaud: #F9F7F1;
      --blanc-surface: #FFFFFF;
      
      /* Or */
      --or-signature: #C7A86D;
      --or-riche: #D4B980;
      --or-sombre: #A89158;
      --or-subtil: rgba(199,168,109,.08);
      --or-leger: rgba(199,168,109,.15);
      --or-moyen: rgba(199,168,109,.25);
      
      /* Texte */
      --text-primary: #0A0A0A;
      --text-secondary: rgba(10,10,10,.75);
      --text-tertiary: rgba(10,10,10,.55);
      
      /* Bordures */
      --border-subtil: rgba(10,10,10,.08);
      --border-leger: rgba(10,10,10,.12);
      --border-visible: rgba(10,10,10,.18);
      --border-or: rgba(199,168,109,.3);
      
      /* Dimensions spécifiques */
      --dim-auto-color: #be123c;
      --dim-auto-bg: rgba(190, 18, 60, 0.08);
      --dim-perf-color: #c2410c;
      --dim-perf-bg: rgba(194, 65, 12, 0.08);
      --dim-valid-color: #0369a1;
      --dim-valid-bg: rgba(3, 105, 161, 0.08);
      --dim-climat-color: #86198f;
      --dim-climat-bg: rgba(134, 25, 143, 0.08);
      --dim-neuro-color: #7e22ce;
      --dim-neuro-bg: rgba(126, 34, 206, 0.08);
      --dim-resil-color: #059669;
      --dim-resil-bg: rgba(5, 150, 105, 0.08);
      
      /* Spacing */
      --s-2: 8px;
      --s-3: 12px;
      --s-4: 16px;
      --s-6: 24px;
      --s-8: 32px;
      --s-12: 48px;
      --s-16: 64px;
      --s-20: 80px;
      
      /* Typographie */
      --fs-xs: 12px;
      --fs-sm: 14px;
      --fs-md: 18px;
      --fs-lg: 21px;
      --fs-xl: 24px;
      --fs-2xl: 32px;
      --fs-3xl: 42px;
      --fs-4xl: 56px;
      
      --lh-tight: 1.2;
      --lh-normal: 1.5;
      --lh-relaxed: 1.7;
      
      /* Ombres */
      --shadow-soft: 0 2px 8px rgba(10,10,10,.08), 0 1px 2px rgba(10,10,10,.12);
      --shadow-medium: 0 4px 16px rgba(10,10,10,.1), 0 2px 4px rgba(10,10,10,.15);
      --shadow-large: 0 8px 32px rgba(10,10,10,.12), 0 2px 8px rgba(10,10,10,.18);
      
      /* Rayons */
      --radius-sm: 4px;
      --radius-md: 8px;
      --radius-lg: 12px;
      --radius-xl: 16px;
      --radius-2xl: 24px;
      --radius-pill: 9999px;
      
      /* Transitions */
      --ease-standard: cubic-bezier(0.4, 0.0, 0.2, 1);
      --ease-spring: cubic-bezier(0.16, 1, 0.3, 1);
      --duration-fast: 150ms;
      --duration-normal: 250ms;
      --duration-slow: 350ms;
    }

    /* ============================================================
       RESET & BASE
    ============================================================ */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      font-size: var(--fs-md);
      line-height: var(--lh-relaxed);
      color: var(--text-primary);
      background: var(--creme-principal);
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ============================================================
       LAYOUT PRINCIPAL
    ============================================================ */
    .app-container {
      max-width: 720px;
      margin: 0 auto;
      padding: var(--s-6) var(--s-4);
      min-height: 100vh;
    }

    /* ============================================================
       INTRO SCREEN
    ============================================================ */
    .intro-screen {
      padding: var(--s-12) 0;
    }

    .intro-header {
      text-align: center;
      margin-bottom: var(--s-12);
    }

    .intro-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto var(--s-6);
      background: linear-gradient(135deg, var(--or-subtil), var(--or-leger));
      border: 2px solid var(--or-signature);
      border-radius: var(--radius-xl);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .intro-icon svg {
      width: 40px;
      height: 40px;
      stroke: var(--or-signature);
      fill: none;
      stroke-width: 2;
    }

    .intro-title {
      font-family: 'Fraunces', serif;
      font-size: var(--fs-3xl);
      font-weight: 700;
      color: var(--noir-absolu);
      margin-bottom: var(--s-4);
      line-height: var(--lh-tight);
    }

    .intro-subtitle {
      font-size: var(--fs-md);
      color: var(--text-secondary);
      line-height: var(--lh-relaxed);
    }

    .intro-card {
      background: var(--blanc-surface);
      border-radius: var(--radius-2xl);
      padding: var(--s-12);
      box-shadow: var(--shadow-large);
      margin-bottom: var(--s-8);
    }

    /* Warning Box */
    .warning-box {
      background: #fffbeb;
      border-left: 4px solid var(--or-signature);
      border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
      padding: var(--s-6);
      margin-bottom: var(--s-8);
    }

    .warning-title {
      font-weight: 700;
      color: var(--or-sombre);
      margin-bottom: var(--s-3);
      font-size: var(--fs-md);
    }

    .warning-text {
      font-size: var(--fs-sm);
      line-height: var(--lh-relaxed);
      color: #78350f;
    }

    /* Methodology Section */
    .methodology-section {
      margin-bottom: var(--s-8);
    }

    .methodology-title {
      font-weight: 600;
      color: var(--noir-absolu);
      margin-bottom: var(--s-6);
      font-size: var(--fs-lg);
      display: flex;
      align-items: center;
      gap: var(--s-3);
    }

    .methodology-title svg {
      width: 24px;
      height: 24px;
      stroke: var(--or-signature);
      fill: none;
      stroke-width: 2;
    }

    .dimensions-list {
      display: flex;
      gap: var(--s-4);
      margin-bottom: var(--s-6);
      flex-wrap: wrap;
    }

    .dimension-tag {
      font-size: var(--fs-sm);
      font-weight: 600;
      padding: var(--s-2) var(--s-4);
      border-radius: var(--radius-pill);
    }

    .dimension-tag.auto {
      color: var(--dim-auto-color);
      background: var(--dim-auto-bg);
    }

    .dimension-tag.perf {
      color: var(--dim-perf-color);
      background: var(--dim-perf-bg);
    }

    .dimension-tag.valid {
      color: var(--dim-valid-color);
      background: var(--dim-valid-bg);
    }

    .dimension-tag.climat {
      color: var(--dim-climat-color);
      background: var(--dim-climat-bg);
    }

    .dimension-tag.neuro {
      color: var(--dim-neuro-color);
      background: var(--dim-neuro-bg);
    }

    .dimension-tag.resil {
      color: var(--dim-resil-color);
      background: var(--dim-resil-bg);
    }

    .methodology-text {
      font-size: var(--fs-md);
      line-height: var(--lh-relaxed);
      color: var(--text-secondary);
      margin-bottom: var(--s-4);
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--s-4);
      margin-top: var(--s-6);
    }

    .stat-item {
      text-align: center;
      padding: var(--s-4);
      background: var(--creme-principal);
      border-radius: var(--radius-lg);
    }

    .stat-icon {
      font-size: 32px;
      margin-bottom: var(--s-2);
      color: var(--or-signature);
    }

    .stat-icon svg {
      display: block;
      margin: 0 auto;
    }

    .stat-value {
      font-size: var(--fs-2xl);
      font-weight: 700;
      color: var(--or-sombre);
      font-family: 'Fraunces', serif;
    }

    .stat-label {
      font-size: var(--fs-xs);
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: var(--s-2);
    }

    /* Start Button */
    .btn-start {
      display: block;
      width: 100%;
      background: var(--or-signature);
      color: var(--noir-absolu);
      font-weight: 600;
      font-size: var(--fs-lg);
      padding: var(--s-6);
      border: none;
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-spring);
      box-shadow: var(--shadow-soft);
    }

    .btn-start:hover {
      background: var(--or-riche);
      transform: translateY(-2px);
      box-shadow: var(--shadow-medium);
    }

    .btn-start:active {
      transform: translateY(0);
    }

    /* ============================================================
       QUESTIONNAIRE SCREEN
    ============================================================ */
    .questionnaire-screen {
      padding: var(--s-8) 0;
    }

    /* Progress Bar */
    .progress-section {
      margin-bottom: var(--s-8);
    }

    .progress-text {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--s-3);
      font-size: var(--fs-sm);
      color: var(--text-secondary);
    }

    .progress-bar-container {
      width: 100%;
      height: 8px;
      background: var(--border-subtil);
      border-radius: var(--radius-pill);
      overflow: hidden;
    }

    .progress-bar-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--or-signature), var(--or-riche));
      border-radius: var(--radius-pill);
      transition: width var(--duration-slow) var(--ease-standard);
    }

    /* Question Card */
    .question-card {
      background: var(--blanc-surface);
      border-radius: var(--radius-2xl);
      padding: var(--s-12);
      box-shadow: var(--shadow-large);
      margin-bottom: var(--s-8);
    }

    .question-header {
      margin-bottom: var(--s-8);
    }

    .question-dimension-badge {
      display: inline-block;
      font-size: var(--fs-xs);
      font-weight: 600;
      padding: var(--s-2) var(--s-4);
      border-radius: var(--radius-pill);
      margin-bottom: var(--s-4);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .question-number {
      font-size: var(--fs-sm);
      font-weight: 600;
      color: var(--text-tertiary);
      margin-bottom: var(--s-3);
    }

    .question-text {
      font-family: 'Fraunces', serif;
      font-size: var(--fs-xl);
      font-weight: 600;
      color: var(--noir-absolu);
      line-height: var(--lh-normal);
      margin-bottom: var(--s-8);
    }

    /* Scale Options */
    .scale-options {
      display: flex;
      flex-direction: column;
      gap: var(--s-3);
      margin-bottom: var(--s-8);
    }

    .scale-option {
      position: relative;
      width: 100%;
    }

    .scale-option input[type="radio"] {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .scale-option label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--s-4) var(--s-6);
      background: var(--creme-principal);
      border: 2px solid var(--border-leger);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-fast) var(--ease-spring);
      font-size: var(--fs-md);
      font-weight: 500;
    }

    .scale-option label:hover {
      border-color: var(--or-signature);
      background: var(--blanc-surface);
    }

    .scale-option input[type="radio"]:checked + label {
      background: var(--or-subtil);
      border-color: var(--or-signature);
      font-weight: 600;
      color: var(--or-sombre);
    }

    .scale-option-value {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      background: var(--blanc-surface);
      border: 2px solid var(--border-leger);
      font-weight: 700;
      font-size: var(--fs-sm);
      color: var(--text-tertiary);
      transition: all var(--duration-fast) var(--ease-standard);
    }

    .scale-option input[type="radio"]:checked + label .scale-option-value {
      background: var(--or-signature);
      border-color: var(--or-signature);
      color: var(--noir-absolu);
    }

    /* Navigation Buttons */
    .nav-buttons {
      display: flex;
      gap: var(--s-4);
    }

    .btn-nav {
      flex: 1;
      padding: var(--s-4) var(--s-6);
      border: 2px solid var(--border-leger);
      background: var(--blanc-surface);
      color: var(--text-primary);
      font-weight: 600;
      font-size: var(--fs-md);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-spring);
    }

    .btn-nav:hover:not(:disabled) {
      border-color: var(--or-signature);
      background: var(--or-subtil);
    }

    .btn-nav:disabled {
      opacity: 0.4;
      cursor: not-allowed;
    }

    .btn-submit {
      width: 100%;
      background: var(--or-signature);
      color: var(--noir-absolu);
      border: none;
      padding: var(--s-6);
      font-weight: 700;
      font-size: var(--fs-lg);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-spring);
      box-shadow: var(--shadow-soft);
    }

    .btn-submit:hover {
      background: var(--or-riche);
      transform: translateY(-2px);
      box-shadow: var(--shadow-medium);
    }

    /* ============================================================
       RESULTS SCREEN
    ============================================================ */
    .results-screen {
      padding: var(--s-8) 0;
    }

    .results-hero {
      text-align: center;
      margin-bottom: var(--s-12);
    }

    .results-icon-container {
      width: 120px;
      height: 120px;
      margin: 0 auto var(--s-6);
      background: linear-gradient(135deg, var(--or-subtil), var(--or-leger));
      border: 3px solid var(--or-signature);
      border-radius: var(--radius-2xl);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .results-icon-container svg {
      width: 64px;
      height: 64px;
    }

    .results-score {
      font-family: 'Fraunces', serif;
      font-size: var(--fs-4xl);
      font-weight: 700;
      color: var(--or-sombre);
      margin-bottom: var(--s-4);
    }

    .results-band {
      font-size: var(--fs-xl);
      font-weight: 700;
      color: var(--noir-absolu);
      margin-bottom: var(--s-6);
    }

    .results-message {
      font-size: var(--fs-md);
      line-height: var(--lh-relaxed);
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto;
    }

    /* Result Cards */
    .result-card {
      background: var(--blanc-surface);
      border-radius: var(--radius-2xl);
      padding: var(--s-8);
      box-shadow: var(--shadow-medium);
      margin-bottom: var(--s-8);
    }

    .result-card-title {
      font-family: 'Fraunces', serif;
      font-size: var(--fs-2xl);
      font-weight: 700;
      color: var(--noir-absolu);
      margin-bottom: var(--s-6);
    }

    /* Dimension Scores */
    .dimension-score-item {
      padding: var(--s-4);
      background: var(--creme-principal);
      border-radius: var(--radius-lg);
      margin-bottom: var(--s-4);
    }

    .dimension-score-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--s-3);
    }

    .dimension-score-name {
      font-size: var(--fs-md);
      font-weight: 600;
      color: var(--text-primary);
    }

    .dimension-score-value {
      font-size: var(--fs-md);
      font-weight: 700;
      color: var(--or-sombre);
    }

    .dimension-score-bar {
      width: 100%;
      height: 8px;
      background: var(--border-subtil);
      border-radius: var(--radius-pill);
      overflow: hidden;
    }

    .dimension-score-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--or-signature), var(--or-riche));
      border-radius: var(--radius-pill);
      transition: width 1s var(--ease-standard);
    }

    /* Profile Analysis */
    .profile-analysis {
      background: var(--or-subtil);
      border-left: 4px solid var(--or-signature);
      border-radius: 0 var(--radius-lg) var(--radius-lg) 0;
      padding: var(--s-6);
      margin-top: var(--s-6);
    }

    .profile-label {
      font-size: var(--fs-sm);
      font-weight: 600;
      color: var(--or-sombre);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: var(--s-3);
    }

    .profile-dominant {
      font-size: var(--fs-lg);
      font-weight: 700;
      color: var(--noir-absolu);
      margin-bottom: var(--s-4);
    }

    .profile-text {
      font-size: var(--fs-md);
      line-height: var(--lh-relaxed);
      color: var(--text-secondary);
    }

    /* Recommendations */
    .recommendations-list {
      list-style: none;
      padding: 0;
    }

    .recommendations-list li {
      padding: var(--s-4);
      padding-left: var(--s-8);
      margin-bottom: var(--s-3);
      background: var(--creme-principal);
      border-radius: var(--radius-lg);
      position: relative;
      font-size: var(--fs-md);
      line-height: var(--lh-relaxed);
    }

    .recommendations-list li::before {
      content: '→';
      position: absolute;
      left: var(--s-4);
      color: var(--or-signature);
      font-weight: 700;
    }

    /* Export Section */
    .export-section {
      display: flex;
      gap: var(--s-4);
      margin-bottom: var(--s-6);
    }

    .btn-export {
      flex: 1;
      padding: var(--s-4);
      border: 2px solid var(--border-leger);
      background: var(--blanc-surface);
      color: var(--text-primary);
      font-weight: 600;
      font-size: var(--fs-md);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-spring);
    }

    .btn-export:hover {
      border-color: var(--or-signature);
      background: var(--or-subtil);
    }

    .btn-export.primary {
      background: var(--or-signature);
      color: var(--noir-absolu);
      border-color: var(--or-signature);
    }

    .btn-export.primary:hover {
      background: var(--or-riche);
    }

    .btn-reset {
      display: block;
      width: 100%;
      margin-top: var(--s-6);
      padding: var(--s-4);
      background: transparent;
      border: 2px solid var(--border-leger);
      color: var(--text-secondary);
      font-weight: 600;
      font-size: var(--fs-md);
      border-radius: var(--radius-lg);
      cursor: pointer;
      transition: all var(--duration-normal) var(--ease-spring);
    }

    .btn-reset:hover {
      border-color: var(--noir-absolu);
      color: var(--noir-absolu);
    }

    /* Footer */
    .results-footer {
      text-align: center;
      margin-top: var(--s-12);
      font-size: var(--fs-sm);
      color: var(--text-tertiary);
      line-height: var(--lh-relaxed);
    }

    .results-footer strong {
      color: var(--text-secondary);
    }

    /* ============================================================
       RESPONSIVE
    ============================================================ */
    @media (max-width: 640px) {
      .intro-title {
        font-size: var(--fs-2xl);
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .export-section {
        flex-direction: column;
      }

      .question-text {
        font-size: var(--fs-lg);
      }
    }

    /* ============================================================
       PRINT STYLES
    ============================================================ */
    @media print {
      body {
        background: white;
      }

      .btn-start,
      .btn-nav,
      .btn-submit,
      .btn-export,
      .btn-reset,
      .export-section {
        display: none;
      }
    }
  </style>
</head>

<body>
  <div id="app"></div>

  <script>
    /* ============================================================
       DATA & CONFIGURATION
    ============================================================ */

    const DIMENSIONS = [
      { key: 'auto', label: 'Auto-dévalorisation', fullLabel: 'Auto-dévalorisation cognitive', color: 'auto' },
      { key: 'perf', label: 'Sur-contrôle', fullLabel: 'Sur-contrôle & perfectionnisme', color: 'perf' },
      { key: 'valid', label: 'Validation externe', fullLabel: 'Validation externe & comparaisons', color: 'valid' },
      { key: 'climat', label: 'Climat invalidant', fullLabel: 'Climat professionnel invalidant', color: 'climat' },
      { key: 'neuro', label: 'Réponses neuro-émotionnelles', fullLabel: 'Réponses neuro-émotionnelles', color: 'neuro' },
      { key: 'resil', label: 'Régulation', fullLabel: 'Régulation & résilience', color: 'resil' }
    ];

    const SCALE_OPTIONS = [
      { value: 0, label: 'Jamais / Pas du tout' },
      { value: 1, label: 'Rarement / Un peu' },
      { value: 2, label: 'Parfois / Modérément' },
      { value: 3, label: 'Souvent / Beaucoup' }
    ];

    const QUESTIONS = [
      // Auto-dévalorisation cognitive (10 items)
      { id: 1, dim: 'auto', text: "J'ai l'impression de ne jamais être à la hauteur, même quand les autres me félicitent." },
      { id: 2, dim: 'auto', text: "Je minimise systématiquement mes succès en les attribuant à la chance ou aux circonstances." },
      { id: 3, dim: 'auto', text: "J'ai peur qu'on découvre que je ne suis pas aussi compétent·e qu'on le pense." },
      { id: 4, dim: 'auto', text: "Mes réussites me semblent toujours dues à des facteurs externes (chance, aide, contexte)." },
      { id: 5, dim: 'auto', text: "Je pense que mes collègues/pairs sont naturellement plus doués que moi." },
      { id: 6, dim: 'auto', text: "J'ai du mal à accepter les compliments ou les valorisations de mon travail." },
      { id: 7, dim: 'auto', text: "Je crains constamment d'être 'démasqué·e' comme incompétent·e." },
      { id: 8, dim: 'auto', text: "J'ai l'impression d'avoir 'trompé' les autres pour obtenir ma position actuelle." },
      { id: 9, dim: 'auto', text: "Je pense que mon succès est surtout dû au fait que les attentes étaient basses." },
      { id: 10, dim: 'auto', text: "J'ai l'impression d'être un 'imposteur' dans mon domaine professionnel ou académique." },

      // Sur-contrôle & perfectionnisme (10 items)
      { id: 11, dim: 'perf', text: "Je ressens le besoin de surcompenser en travaillant excessivement pour 'mériter' ma place." },
      { id: 12, dim: 'perf', text: "Je fixe des standards irréalistes et me sens coupable quand je ne les atteins pas." },
      { id: 13, dim: 'perf', text: "Je prépare de manière excessive pour éviter d'être pris·e en défaut." },
      { id: 14, dim: 'perf', text: "Je relis, révise ou contrôle mon travail de manière compulsive avant de le partager." },
      { id: 15, dim: 'perf', text: "J'ai peur de commettre la moindre erreur visible." },
      { id: 16, dim: 'perf', text: "Je travaille plus que nécessaire pour prouver ma valeur." },
      { id: 17, dim: 'perf', text: "J'évite les tâches où je ne suis pas sûr·e d'exceller." },
      { id: 18, dim: 'perf', text: "J'ai du mal à déléguer par peur que le travail ne soit pas 'assez bien'." },
      { id: 19, dim: 'perf', text: "Je procrastine par crainte que mon travail ne soit pas parfait." },
      { id: 20, dim: 'perf', text: "Je reporte les projets où je ne me sens pas totalement compétent·e." },

      // Validation externe & comparaisons (10 items)
      { id: 21, dim: 'valid', text: "J'ai besoin de validation constante pour me sentir légitime." },
      { id: 22, dim: 'valid', text: "Je me compare systématiquement aux autres et me sens inférieur·e." },
      { id: 23, dim: 'valid', text: "Je surveille comment les autres perçoivent mon travail avec anxiété." },
      { id: 24, dim: 'valid', text: "Un feedback négatif (même mineur) renforce mon sentiment d'imposture." },
      { id: 25, dim: 'valid', text: "Je cherche constamment des signes de reconnaissance externe." },
      { id: 26, dim: 'valid', text: "Je me dévalorise en voyant les réussites des autres." },
      { id: 27, dim: 'valid', text: "J'ai besoin qu'on me rassure régulièrement sur mes compétences." },
      { id: 28, dim: 'valid', text: "Les succès des autres me font douter encore plus de mes capacités." },
      { id: 29, dim: 'valid', text: "Je cherche l'approbation des figures d'autorité pour me sentir valable." },
      { id: 30, dim: 'valid', text: "Je vis mal les situations où je ne reçois pas de reconnaissance explicite." },

      // Climat professionnel invalidant (10 items)
      { id: 31, dim: 'climat', text: "Mon environnement professionnel valorise la compétition excessive et peu la coopération." },
      { id: 32, dim: 'climat', text: "Je reçois rarement du feedback constructif ou des encouragements." },
      { id: 33, dim: 'climat', text: "Mon travail est régulièrement minimisé, critiqué de manière disproportionnée ou ignoré." },
      { id: 34, dim: 'climat', text: "Je sens qu'on me traite différemment des autres (moins de confiance, moins d'opportunités)." },
      { id: 35, dim: 'climat', text: "Les critères de réussite dans mon environnement sont flous ou changeants." },
      { id: 36, dim: 'climat', text: "Je fais face à des micro-agressions, remarques dévalorisantes ou comportements excluants." },
      { id: 37, dim: 'climat', text: "On questionne régulièrement ma légitimité ou mes compétences." },
      { id: 38, dim: 'climat', text: "J'ai l'impression de devoir 'prouver' constamment ma valeur, plus que mes pairs." },
      { id: 39, dim: 'climat', text: "Mon environnement professionnel manque de soutien, mentorat ou ressources." },
      { id: 40, dim: 'climat', text: "Je subis des comportements discriminatoires liés à mon identité (genre, origine, âge, etc.)." },

      // Réponses neuro-émotionnelles (10 items)
      { id: 41, dim: 'neuro', text: "Je ressens fréquemment de l'anxiété anticipatoire avant les tâches professionnelles." },
      { id: 42, dim: 'neuro', text: "Mon sommeil est perturbé par des pensées liées à mon travail ou mes compétences." },
      { id: 43, dim: 'neuro', text: "Je ressens des symptômes physiques (palpitations, tension) quand je dois présenter mon travail." },
      { id: 44, dim: 'neuro', text: "J'évite certaines situations professionnelles par peur d'être exposé·e." },
      { id: 45, dim: 'neuro', text: "Je rumine fréquemment sur mes erreurs passées ou mes manquements supposés." },
      { id: 46, dim: 'neuro', text: "J'ai du mal à me concentrer à cause de pensées intrusives sur mes capacités." },
      { id: 47, dim: 'neuro', text: "Je me sens épuisé·e émotionnellement par le besoin constant de 'prouver' ma valeur." },
      { id: 48, dim: 'neuro', text: "Je ressens de la honte après des situations où j'aurais pu être 'démasqué·e'." },
      { id: 49, dim: 'neuro', text: "Mon estime personnelle fluctue énormément selon les feedbacks reçus." },
      { id: 50, dim: 'neuro', text: "J'ai des pensées automatiques négatives sur mes compétences." },

      // Régulation & résilience (10 items - inversés)
      { id: 51, dim: 'resil', text: "Je reconnais mes forces et mes réussites de manière réaliste." },
      { id: 52, dim: 'resil', text: "Je dispose d'un réseau de soutien (mentors, pairs) qui me valorise authentiquement." },
      { id: 53, dim: 'resil', text: "Je suis capable de recevoir des critiques constructives sans m'effondrer." },
      { id: 54, dim: 'resil', text: "Je sais identifier quand mes pensées sont irrationnelles et les recadrer." },
      { id: 55, dim: 'resil', text: "Je pratique l'auto-compassion quand je fais des erreurs." },
      { id: 56, dim: 'resil', text: "J'ai développé des stratégies pour gérer mon anxiété de performance." },
      { id: 57, dim: 'resil', text: "Je peux célébrer mes succès sans culpabilité ni minimisation excessive." },
      { id: 58, dim: 'resil', text: "Je me sens généralement légitime dans mon rôle professionnel." },
      { id: 59, dim: 'resil', text: "Je suis capable de demander de l'aide sans craindre d'être jugé·e." },
      { id: 60, dim: 'resil', text: "J'arrive à maintenir une vision équilibrée de mes compétences." }
    ];

    /* ============================================================
       STATE MANAGEMENT
    ============================================================ */

    let state = {
      view: 'intro', // 'intro' | 'questionnaire' | 'results'
      currentQuestion: 0,
      answers: {}
    };

    /* ============================================================
       INTERPRETATION LOGIC
    ============================================================ */

    function getResultBand(totalScore) {
      if (totalScore <= 45) {
        return {
          band: 'Niveau Faible',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#059669" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="9 11 12 14 15 10"/></svg>',
          message: "Vos résultats suggèrent peu d'indicateurs de syndrome de l'imposteur ou d'invalidation environnementale significative. Vous semblez avoir développé une perception relativement équilibrée de vos compétences et évoluer dans un environnement globalement soutenant.",
          recommendations: [
            "Continuez à cultiver cette vision équilibrée de vos compétences",
            "Maintenez vos stratégies de régulation émotionnelle actuelles",
            "Restez vigilant·e face aux éventuels changements d'environnement professionnel",
            "Considérez le mentorat pour accompagner d'autres personnes confrontées à ces difficultés"
          ]
        };
      } else if (totalScore <= 90) {
        return {
          band: 'Niveau Modéré',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>',
          message: "Vos résultats révèlent la présence de plusieurs indicateurs de syndrome de l'imposteur et/ou d'invalidation environnementale. Certaines dimensions semblent plus marquées. Il est recommandé d'analyser votre profil détaillé et de développer des stratégies de régulation adaptées.",
          recommendations: [
            "Identifiez les dimensions les plus élevées dans votre profil pour cibler vos efforts",
            "Développez des techniques de restructuration cognitive pour recadrer vos pensées automatiques négatives",
            "Cherchez du soutien social (mentorat, thérapie, groupes de pairs)",
            "Évaluez la qualité de votre environnement professionnel et les ajustements possibles",
            "Pratiquez l'auto-compassion et la reconnaissance de vos réussites réelles"
          ]
        };
      } else if (totalScore <= 135) {
        return {
          band: 'Niveau Élevé',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#dc2626" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
          message: "Vos résultats indiquent un niveau élevé d'indicateurs de syndrome de l'imposteur et/ou d'invalidation environnementale sévère. Cette situation peut avoir un impact significatif sur votre bien-être, votre performance et votre santé mentale. Un accompagnement professionnel est fortement recommandé.",
          recommendations: [
            "Consultez un·e professionnel·le de santé mentale spécialisé·e (psychologue, psychiatre)",
            "Analysez sérieusement la toxicité potentielle de votre environnement professionnel",
            "Envisagez des changements structurels si l'environnement est la cause principale",
            "Développez un plan de régulation émotionnelle avec un·e thérapeute",
            "Constituez un réseau de soutien solide (mentorat, pairs de confiance)",
            "Pratiquez des techniques de gestion du stress et de l'anxiété (mindfulness, relaxation)",
            "Documentez les situations d'invalidation si elles sont systématiques (pour RH si nécessaire)"
          ]
        };
      } else {
        return {
          band: 'Niveau Critique',
          icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#7f1d1d" stroke-width="2.5"><polygon points="7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>',
          message: "Vos résultats révèlent une situation critique avec de multiples indicateurs sévères de syndrome de l'imposteur et/ou d'invalidation environnementale majeure. Cette situation nécessite une intervention professionnelle urgente et des changements structurels significatifs.",
          recommendations: [
            "PRIORITÉ ABSOLUE : Consultez rapidement un·e professionnel·le de santé mentale",
            "Évaluez immédiatement la toxicité de votre environnement avec aide externe (RH, médecin du travail)",
            "Envisagez sérieusement un changement d'environnement si l'invalidation est systémique",
            "Demandez un accompagnement thérapeutique spécialisé (TCC, thérapie des schémas)",
            "Construisez un plan de protection psychologique avec professionnel·les",
            "Documentez systématiquement les situations problématiques (preuves si nécessaire)",
            "Informez votre entourage proche pour obtenir du soutien",
            "Ne restez pas isolé·e : contactez associations professionnelles, syndicats si pertinent"
          ]
        };
      }
    }

    function analyzeProfile(dimScores) {
      const dimArray = Object.entries(dimScores).map(([key, score]) => {
        const max = QUESTIONS.filter(q => q.dim === key).length * 3;
        return { key, score, max, percentage: (score / max) * 100 };
      });

      dimArray.sort((a, b) => b.percentage - a.percentage);
      const dominant = dimArray[0].key;
      const secondary = dimArray[1].key;

      const analyses = {
        auto: "L'auto-dévalorisation cognitive domine votre profil. Vous avez tendance à minimiser systématiquement vos compétences et réussites. Ce pattern peut être d'origine interne (croyances limitantes) ou renforcé par l'environnement.",
        perf: "Le sur-contrôle et le perfectionnisme dominent votre profil. Vous compensez votre sentiment d'imposture par un travail excessif et des standards irréalistes. Cette stratégie génère épuisement et anxiété chronique.",
        valid: "Votre besoin de validation externe et vos comparaisons sociales dominent. Vous dépendez fortement du regard des autres pour évaluer votre valeur. Ce pattern crée vulnérabilité et instabilité émotionnelle.",
        climat: "Le climat professionnel invalidant domine. Vos difficultés semblent majoritairement liées à un environnement toxique, discriminatoire ou peu soutenant. Il est crucial d'évaluer la nécessité de changements structurels.",
        neuro: "Les réponses neuro-émotionnelles dominent. Vous vivez une forte charge anxieuse et des manifestations somatiques liées à votre sentiment d'imposture. Un accompagnement thérapeutique est recommandé.",
        resil: "Votre profil montre un manque significatif de stratégies de régulation et de résilience. Développer ces compétences sera essentiel pour modifier durablement votre perception de vous-même."
      };

      return {
        dominant: dominant,
        secondary: secondary,
        analysis: analyses[dominant] || "Analyse non disponible pour cette dimension."
      };
    }

    /* ============================================================
       RENDERING FUNCTIONS
    ============================================================ */

    function render() {
      const app = document.getElementById('app');
      
      if (state.view === 'intro') {
        app.innerHTML = renderIntro();
      } else if (state.view === 'questionnaire') {
        app.innerHTML = renderQuestionnaire();
      } else if (state.view === 'results') {
        app.innerHTML = renderResults();
      }
    }

    function renderIntro() {
      return `
        <div class="app-container">
          <div class="intro-screen">
            <div class="intro-header">
              <div class="intro-icon">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                  <circle cx="12" cy="12" r="10"/>
                  <path d="M12 6v6l4 2"/>
                </svg>
              </div>
              <h1 class="intro-title">Syndrome de l'Imposteur vs Environnement Toxique</h1>
              <p class="intro-subtitle">Évaluation clinique approfondie — 60 items</p>
            </div>

            <div class="intro-card">
              <div class="warning-box">
                <div class="warning-title">⚠️ Avertissement Important</div>
                <p class="warning-text">
                  Ce test ne remplace pas un diagnostic professionnel. Les résultats sont indicatifs et visent à favoriser la prise de conscience. En cas de détresse significative, consultez un professionnel de santé. En cas de pensées suicidaires, appelez le 3114.
                </p>
              </div>

              <div class="methodology-section">
                <h3 class="methodology-title">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                    <circle cx="12" cy="12" r="10"/>
                    <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                    <path d="M12 17h.01"/>
                  </svg>
                  Méthodologie
                </h3>

                <div class="dimensions-list">
                  <span class="dimension-tag auto">Auto-dévalorisation</span>
                  <span class="dimension-tag perf">Sur-contrôle</span>
                  <span class="dimension-tag valid">Validation externe</span>
                  <span class="dimension-tag climat">Climat invalidant</span>
                  <span class="dimension-tag neuro">Réponses neuro-émotionnelles</span>
                  <span class="dimension-tag resil">Régulation</span>
                </div>

                <p class="methodology-text">
                  Cette grille évalue <strong>6 dimensions clés</strong> permettant de distinguer le syndrome de l'imposteur (phénomène psychologique interne) de l'invalidation environnementale (facteurs externes toxiques).
                </p>

                <p class="methodology-text">
                  Chaque item est évalué sur une <strong>échelle de fréquence/intensité (0-3)</strong>. L'analyse multidimensionnelle permet d'identifier votre profil dominant et les leviers d'action prioritaires.
                </p>
              </div>

              <div class="stats-grid">
                <div class="stat-item">
                  <div class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <line x1="12" y1="20" x2="12" y2="10"/>
                      <line x1="18" y1="20" x2="18" y2="4"/>
                      <line x1="6" y1="20" x2="6" y2="16"/>
                    </svg>
                  </div>
                  <div class="stat-value">60</div>
                  <div class="stat-label">Questions</div>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 6v6l4 2"/>
                    </svg>
                  </div>
                  <div class="stat-value">15-20</div>
                  <div class="stat-label">Minutes</div>
                </div>
                <div class="stat-item">
                  <div class="stat-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 16v-4"/>
                      <path d="M12 8h.01"/>
                    </svg>
                  </div>
                  <div class="stat-value">6</div>
                  <div class="stat-label">Dimensions</div>
                </div>
              </div>

              <button class="btn-start" onclick="startTest()">
                Commencer l'évaluation
              </button>
            </div>
          </div>
        </div>
      `;
    }

    function renderQuestionnaire() {
      const current = QUESTIONS[state.currentQuestion];
      const dimension = DIMENSIONS.find(d => d.key === current.dim);
      const progress = ((state.currentQuestion + 1) / QUESTIONS.length) * 100;
      const answered = Object.keys(state.answers).length;
      const total = QUESTIONS.length;
      
      return `
        <div class="app-container">
          <div class="questionnaire-screen">
            <div class="progress-section">
              <div class="progress-text">
                <span><strong>Question ${state.currentQuestion + 1}</strong> sur ${total}</span>
                <span>${answered} / ${total} répondues</span>
              </div>
              <div class="progress-bar-container">
                <div class="progress-bar-fill" style="width: ${progress}%"></div>
              </div>
            </div>

            <div class="question-card">
              <div class="question-header">
                <span class="question-dimension-badge dimension-tag ${dimension.color}">
                  ${dimension.label}
                </span>
                <div class="question-number">Question ${state.currentQuestion + 1} / ${total}</div>
                <div class="question-text">${current.text}</div>
              </div>

              <div class="scale-options">
                ${SCALE_OPTIONS.map(option => `
                  <div class="scale-option">
                    <input 
                      type="radio" 
                      name="q${current.id}" 
                      id="q${current.id}_${option.value}" 
                      value="${option.value}"
                      ${state.answers[current.id] === option.value ? 'checked' : ''}
                      onchange="handleAnswer(${current.id}, ${option.value})"
                    >
                    <label for="q${current.id}_${option.value}">
                      <span>${option.label}</span>
                      <span class="scale-option-value">${option.value}</span>
                    </label>
                  </div>
                `).join('')}
              </div>

              <div class="nav-buttons">
                <button 
                  class="btn-nav" 
                  onclick="previousQuestion()"
                  ${state.currentQuestion === 0 ? 'disabled' : ''}
                >
                  ← Précédent
                </button>
                <button 
                  class="btn-nav" 
                  onclick="nextQuestion()"
                  ${state.currentQuestion === QUESTIONS.length - 1 ? 'disabled' : ''}
                >
                  Suivant →
                </button>
              </div>

              ${answered === total ? `
                <button class="btn-submit" style="margin-top: var(--s-6);" onclick="submitTest()">
                  Voir mes résultats
                </button>
              ` : ''}
            </div>
          </div>
        </div>
      `;
    }

    function renderResults() {
      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      const dimScores = DIMENSIONS.map(dim => {
        const score = scores.dimensions[dim.key];
        const maxScore = QUESTIONS.filter(q => q.dim === dim.key).length * 3;
        const percentage = Math.round((score / maxScore) * 100);
        return { ...dim, score, maxScore, percentage };
      });

      return `
        <div class="app-container">
          <div class="results-screen">
            <div class="results-hero">
              <div class="results-icon-container">
                ${resultBand.icon}
              </div>
              <div class="results-score">${scores.total}/180</div>
              <div class="results-band">${resultBand.band}</div>
              <p class="results-message">${resultBand.message}</p>
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Scores par Dimension</h2>
              ${dimScores.map(dim => `
                <div class="dimension-score-item">
                  <div class="dimension-score-header">
                    <span class="dimension-score-name">${dim.fullLabel}</span>
                    <span class="dimension-score-value">${dim.score}/${dim.maxScore} (${dim.percentage}%)</span>
                  </div>
                  <div class="dimension-score-bar">
                    <div class="dimension-score-fill" style="width: ${dim.percentage}%"></div>
                  </div>
                </div>
              `).join('')}

              <div class="profile-analysis">
                <div class="profile-label">Dimension dominante</div>
                <div class="profile-dominant">${DIMENSIONS.find(d => d.key === profile.dominant).fullLabel}</div>
                <p class="profile-text">${profile.analysis}</p>
              </div>
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Recommandations Prioritaires</h2>
              <ul class="recommendations-list">
                ${resultBand.recommendations.map(rec => `<li>${rec}</li>`).join('')}
              </ul>
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Exporter les Résultats</h2>
              <div class="export-section">
                <button class="btn-export primary" onclick="printResults()">
                  Télécharger en PDF
                </button>
                <button class="btn-export" onclick="downloadJSON()">
                  Télécharger JSON
                </button>
              </div>
              <button class="btn-reset" onclick="resetTest()">
                Refaire le test
              </button>
            </div>

            <div class="results-footer">
              <p><strong>NOÉSIS</strong> — Syndrome de l'Imposteur vs Environnement Toxique v1.0</p>
              <p>© 2025 NOÉSIS — Tous droits réservés</p>
              <p>Outil de pré-diagnostic • Pas un diagnostic médical</p>
              <p>Confidentialité : aucune donnée collectée sans action explicite (RGPD)</p>
            </div>
          </div>
        </div>
      `;
    }

    /* ============================================================
       CALCULATION FUNCTIONS
    ============================================================ */

    function calculateScores() {
      const dimensions = {};
      
      DIMENSIONS.forEach(dim => {
        const dimQuestions = QUESTIONS.filter(q => q.dim === dim.key);
        const score = dimQuestions.reduce((sum, q) => {
          const answer = state.answers[q.id] || 0;
          // Inverser les scores pour la dimension 'resil' (résilience)
          return sum + (dim.key === 'resil' ? (3 - answer) : answer);
        }, 0);
        dimensions[dim.key] = score;
      });

      const total = Object.values(dimensions).reduce((a, b) => a + b, 0);

      return { dimensions, total };
    }

    /* ============================================================
       EVENT HANDLERS
    ============================================================ */

    function startTest() {
      state.view = 'questionnaire';
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleAnswer(questionId, value) {
      state.answers[questionId] = value;
      render();
      
      // Auto-avancer après un court délai
      if (state.currentQuestion < QUESTIONS.length - 1) {
        setTimeout(() => {
          state.currentQuestion++;
          render();
          window.scrollTo({ top: 0, behavior: 'smooth' });
        }, 300);
      }
    }

    function previousQuestion() {
      if (state.currentQuestion > 0) {
        state.currentQuestion--;
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function nextQuestion() {
      if (state.currentQuestion < QUESTIONS.length - 1) {
        state.currentQuestion++;
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function submitTest() {
      const allAnswered = Object.keys(state.answers).length === QUESTIONS.length;
      if (allAnswered) {
        state.view = 'results';
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        alert(`Il reste ${QUESTIONS.length - Object.keys(state.answers).length} question(s) sans réponse.`);
      }
    }

    function resetTest() {
      state = {
        view: 'intro',
        currentQuestion: 0,
        answers: {}
      };
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function printResults() {
      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      const dimScores = DIMENSIONS.map(dim => {
        const score = scores.dimensions[dim.key];
        const maxScore = QUESTIONS.filter(q => q.dim === dim.key).length * 3;
        const percentage = Math.round((score / maxScore) * 100);
        return { ...dim, score, maxScore, percentage };
      });

      // Créer une nouvelle fenêtre pour l'impression
      const printWindow = window.open('', '_blank', 'width=800,height=600');
      
      printWindow.document.write(`
        <!DOCTYPE html>
        <html lang="fr">
        <head>
          <meta charset="UTF-8">
          <title>Résultats — Syndrome de l'Imposteur vs Environnement Toxique | NOÉSIS</title>
          <style>
            @page { 
              size: A4; 
              margin: 20mm;
            }
            body {
              font-family: 'Inter', 'Helvetica', 'Arial', sans-serif;
              font-size: 11pt;
              line-height: 1.5;
              color: #0A0A0A;
              margin: 0;
              padding: 0;
            }
            .header {
              text-align: center;
              margin-bottom: 30px;
              padding-bottom: 15px;
              border-bottom: 3px solid #C7A86D;
            }
            .logo {
              font-size: 28pt;
              font-weight: 700;
              letter-spacing: 0.15em;
              color: #C7A86D;
              margin-bottom: 8px;
            }
            .subtitle {
              font-size: 12pt;
              color: #555;
            }
            .date {
              margin-top: 8px;
              font-size: 9pt;
              color: #888;
            }
            .section {
              margin-bottom: 25px;
              page-break-inside: avoid;
            }
            .section-title {
              font-size: 14pt;
              font-weight: 700;
              color: #0A0A0A;
              margin-bottom: 12px;
              padding-bottom: 8px;
              border-bottom: 2px solid #F7F5EF;
            }
            .score-box {
              background: #F7F5EF;
              border: 2px solid #C7A86D;
              border-radius: 8px;
              padding: 20px;
              text-align: center;
              margin-bottom: 15px;
            }
            .score-value {
              font-size: 42pt;
              font-weight: 700;
              color: #C7A86D;
              line-height: 1;
            }
            .score-label {
              font-size: 13pt;
              color: #555;
              margin-top: 8px;
              font-weight: 600;
            }
            .score-message {
              font-size: 10pt;
              line-height: 1.6;
              color: #333;
              margin-top: 12px;
            }
            .dimension-item {
              margin-bottom: 12px;
              padding: 12px;
              background: #F7F5EF;
              border-radius: 6px;
              display: flex;
              justify-content: space-between;
              align-items: center;
            }
            .dimension-name {
              font-weight: 700;
              color: #0A0A0A;
              font-size: 10pt;
            }
            .dimension-score {
              color: #C7A86D;
              font-weight: 700;
              font-size: 10pt;
            }
            .profile-box {
              background: rgba(199,168,109,.08);
              border-left: 4px solid #C7A86D;
              padding: 12px;
              margin: 15px 0;
              border-radius: 0 6px 6px 0;
            }
            .profile-label {
              font-size: 9pt;
              font-weight: 700;
              color: #A89158;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 5px;
            }
            .profile-dominant {
              font-size: 11pt;
              font-weight: 700;
              color: #0A0A0A;
              margin-bottom: 8px;
            }
            .profile-text {
              font-size: 10pt;
              line-height: 1.5;
              color: #333;
            }
            .recommendation {
              margin-bottom: 8px;
              padding-left: 18px;
              position: relative;
              font-size: 10pt;
              line-height: 1.5;
            }
            .recommendation::before {
              content: '→';
              position: absolute;
              left: 3px;
              color: #C7A86D;
              font-weight: 700;
            }
            .questions-table {
              width: 100%;
              border-collapse: collapse;
              margin-top: 15px;
              font-size: 9pt;
            }
            .questions-table th,
            .questions-table td {
              padding: 6px 8px;
              border: 1px solid #DDD;
              text-align: left;
              vertical-align: top;
            }
            .questions-table th {
              background: #F7F5EF;
              font-weight: 700;
              font-size: 9pt;
            }
            .questions-table td:first-child {
              width: 40px;
              text-align: center;
              font-weight: 700;
              color: #C7A86D;
            }
            .questions-table td:last-child {
              width: 110px;
              text-align: center;
            }
            .questions-table td:nth-child(2) {
              line-height: 1.4;
            }
            .footer {
              margin-top: 30px;
              padding-top: 15px;
              border-top: 2px solid #F7F5EF;
              text-align: center;
              font-size: 8pt;
              color: #888;
              line-height: 1.6;
            }
            .warning-box {
              background: #FFF9E6;
              border-left: 4px solid #C7A86D;
              padding: 12px;
              margin: 15px 0;
              font-size: 9pt;
              line-height: 1.5;
            }
            .warning-box strong {
              color: #A89158;
            }
            @media print {
              body { 
                margin: 0;
                padding: 0;
              }
              .section { 
                page-break-inside: avoid; 
              }
            }
          </style>
        </head>
        <body>
          
          <div class="header">
            <div class="logo">NOÉSIS</div>
            <div class="subtitle">Rapport d'Évaluation — Syndrome de l'Imposteur vs Environnement Toxique</div>
            <div class="date">
              Date : ${new Date().toLocaleDateString('fr-FR', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
              })}
            </div>
          </div>

          <div class="section">
            <div class="score-box">
              <div class="score-value">${scores.total}/180</div>
              <div class="score-label">${resultBand.band}</div>
              <p class="score-message">${resultBand.message}</p>
            </div>
          </div>

          <div class="warning-box">
            <strong>⚠️ Avertissement Important</strong><br>
            Ce test ne remplace pas un diagnostic professionnel. En cas de détresse significative, 
            consultez un professionnel de santé. En cas de pensées suicidaires, appelez le 3114 
            (numéro national de prévention du suicide, gratuit et disponible 24h/24).
          </div>

          <div class="section">
            <h2 class="section-title">Analyse par Dimension</h2>
            ${dimScores.map(dim => `
              <div class="dimension-item">
                <span class="dimension-name">${dim.fullLabel}</span>
                <span class="dimension-score">${dim.score}/${dim.maxScore} (${dim.percentage}%)</span>
              </div>
            `).join('')}
          </div>

          <div class="section">
            <h2 class="section-title">Analyse de Profil</h2>
            <div class="profile-box">
              <div class="profile-label">Dimension dominante</div>
              <div class="profile-dominant">${DIMENSIONS.find(d => d.key === profile.dominant).fullLabel}</div>
              <p class="profile-text">${profile.analysis}</p>
            </div>
          </div>

          <div class="section">
            <h2 class="section-title">Recommandations Prioritaires</h2>
            ${resultBand.recommendations.map(rec => `
              <div class="recommendation">${rec}</div>
            `).join('')}
          </div>

          <div class="section" style="page-break-before: always;">
            <h2 class="section-title">Récapitulatif Détaillé des Réponses</h2>
            <table class="questions-table">
              <thead>
                <tr>
                  <th>N°</th>
                  <th>Question</th>
                  <th>Réponse</th>
                </tr>
              </thead>
              <tbody>
                ${QUESTIONS.map(q => {
                  const answer = state.answers[q.id];
                  const dim = DIMENSIONS.find(d => d.key === q.dim);
                  // Pour la dimension résilience, on inverse l'affichage
                  const displayAnswer = q.dim === 'resil' ? (3 - answer) : answer;
                  const answerLabel = SCALE_OPTIONS.find(opt => opt.value === displayAnswer)?.label || 'Non répondu';
                  return `
                    <tr>
                      <td>${q.id}</td>
                      <td><strong>[${dim.label}]</strong> ${q.text}</td>
                      <td>${answerLabel}</td>
                    </tr>
                  `;
                }).join('')}
              </tbody>
            </table>
          </div>

          <div class="footer">
            <p><strong>NOÉSIS</strong> — Intelligence transdisciplinaire au service de la lucidité collective</p>
            <p>Syndrome de l'Imposteur vs Environnement Toxique v1.0 • © 2025 NOÉSIS — Tous droits réservés</p>
            <p style="margin-top: 8px;">
              Outil de pré-diagnostic d'orientation • Pas un diagnostic médical<br>
              Confidentialité : aucune donnée collectée sans action explicite (RGPD)
            </p>
          </div>

        </body>
        </html>
      `);

      printWindow.document.close();
      
      // Attendre que le document soit complètement chargé avant d'imprimer
      printWindow.onload = function() {
        setTimeout(function() {
          printWindow.focus();
          printWindow.print();
        }, 250);
      };
    }

    function downloadJSON() {
      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      const data = {
        test: "Syndrome de l'Imposteur vs Environnement Toxique",
        version: "1.0 - NOÉSIS",
        date: new Date().toISOString(),
        answers: state.answers,
        scores: scores,
        result: {
          band: resultBand.band,
          message: resultBand.message,
          recommendations: resultBand.recommendations
        },
        profile: profile,
        questions: QUESTIONS.map(q => ({
          id: q.id,
          text: q.text,
          dimension: q.dim,
          answer: state.answers[q.id],
          answerLabel: SCALE_OPTIONS.find(opt => opt.value === state.answers[q.id])?.label
        }))
      };

      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `noesis-syndrome-imposteur-environnement-toxique-${Date.now()}.json`;
      a.click();
      URL.revokeObjectURL(url);
    }

    // ============================================================
    // INITIALIZATION
    // ============================================================

    render();
  </script>

</body>
</html>
