<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO -->
  <title>Burn-out : Stade d'Épuisement — Auto-test NOÉSIS</title>
  <meta name="description" content="Grille d'évaluation clinique (45 items) du burn-out professionnel basée sur le modèle MBI : épuisement émotionnel, dépersonnalisation/cynisme et accomplissement personnel.">
  
  <!-- Fonts Google -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --noir: #111111;
      --blanc-casse: #F9F9F6;
      --gris-clair: #F5F4F0;
      --bordeaux: #7D3C4A;
      --bordeaux-leger: #9D5C6A;
      --gris-texte: #555555;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Crimson Text', serif;
      font-size: 19px;
      line-height: 1.8;
      color: var(--noir);
      background: linear-gradient(135deg, #e0e7ff 0%, #f3e8ff 100%);
      min-height: 100vh;
    }

    /* Navigation NOÉSIS */
    .urgence-banner {
      background: linear-gradient(90deg, var(--bordeaux), var(--bordeaux-leger));
      color: white;
      padding: 11px 0;
      text-align: center;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .urgence-banner a {
      color: white;
      text-decoration: none;
      margin: 0 14px;
      font-weight: 700;
      padding: 4px 12px;
      border-radius: 20px;
      background-color: rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .urgence-banner a:hover {
      background-color: rgba(255, 255, 255, 0.2);
    }

    nav {
      background-color: white;
      padding: 24px 0;
      box-shadow: 0 2px 16px rgba(0, 0, 0, 0.08);
      position: sticky;
      top: 43px;
      z-index: 999;
    }

    nav .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 0.25em;
      text-transform: uppercase;
      color: var(--noir);
      text-decoration: none;
      font-variant: small-caps;
    }

    nav ul {
      display: flex;
      gap: 8px;
      list-style: none;
      margin: 0;
      padding: 0;
    }

    nav a:not(.logo) {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 600;
      color: var(--gris-texte);
      text-decoration: none;
      padding: 10px 18px;
      border-radius: 40px;
      transition: all 0.3s ease;
    }

    nav a:not(.logo):hover {
      background-color: var(--bordeaux);
      color: white;
    }

    /* Container principal */
    .main-container {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 24px;
    }

    /* Hero Card */
    .hero-card {
      background: white;
      border-radius: 24px;
      padding: 64px 48px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      text-align: center;
    }

    .hero-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 32px;
      background: linear-gradient(135deg, #818cf8 0%, #c084fc 100%);
      border-radius: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 42px;
    }

    .hero-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 48px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 16px;
      line-height: 1.2;
    }

    .hero-subtitle {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 17px;
      color: var(--gris-texte);
      margin-bottom: 48px;
    }

    /* Warning Box */
    .warning-box {
      background: #fffbeb;
      border-left: 5px solid #f59e0b;
      padding: 24px 28px;
      border-radius: 0 12px 12px 0;
      margin-bottom: 48px;
      text-align: left;
    }

    .warning-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 700;
      color: #92400e;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .warning-text {
      font-size: 16px;
      line-height: 1.7;
      color: #78350f;
    }

    /* Méthodologie Section */
    .methodology-section {
      margin-bottom: 48px;
      text-align: left;
    }

    .methodology-title {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 20px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .dimensions-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
      margin-bottom: 28px;
    }

    .dimension-badge {
      padding: 12px 20px;
      border-radius: 12px;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      font-weight: 600;
      text-align: center;
    }

    .dimension-badge.rose {
      background: #ffe4e6;
      color: #be123c;
    }

    .dimension-badge.purple {
      background: #f3e8ff;
      color: #7e22ce;
    }

    .dimension-badge.emerald {
      background: #d1fae5;
      color: #065f46;
    }

    .methodology-text {
      font-size: 17px;
      line-height: 1.8;
      color: var(--gris-texte);
      margin-bottom: 16px;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 32px;
      margin: 48px 0;
    }

    .stat-item {
      text-align: center;
    }

    .stat-icon {
      width: 64px;
      height: 64px;
      margin: 0 auto 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      color: #6366f1;
    }

    .stat-value {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 8px;
    }

    .stat-label {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      color: var(--gris-texte);
    }

    /* CTA Button */
    .cta-button {
      display: inline-block;
      background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      color: white;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 17px;
      font-weight: 700;
      padding: 20px 48px;
      border-radius: 12px;
      text-decoration: none;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
      cursor: pointer;
      border: none;
    }

    .cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 28px rgba(99, 102, 241, 0.5);
    }

    /* Questionnaire Styles */
    .questionnaire-container {
      background: white;
      border-radius: 24px;
      padding: 48px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      margin-bottom: 32px;
    }

    .dimension-header {
      font-family: 'Cormorant Garamond', serif;
      font-size: 32px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 12px;
    }

    .dimension-description {
      font-size: 16px;
      color: var(--gris-texte);
      margin-bottom: 32px;
    }

    .progress-bar {
      width: 100%;
      height: 8px;
      background: #e5e7eb;
      border-radius: 4px;
      margin-bottom: 40px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #6366f1 0%, #a855f7 100%);
      transition: width 0.5s ease;
      border-radius: 4px;
    }

    .question-block {
      margin-bottom: 40px;
      padding-bottom: 32px;
      border-bottom: 1px solid #e5e7eb;
    }

    .question-block:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }

    .question-text {
      font-size: 17px;
      color: var(--noir);
      margin-bottom: 20px;
      font-weight: 500;
      line-height: 1.6;
    }

    .question-number {
      color: #9ca3af;
      font-weight: 600;
      margin-right: 12px;
    }

    .choices-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
    }

    .choice-label {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 16px 12px;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
    }

    .choice-label:hover {
      border-color: #c7d2fe;
      background: #f5f3ff;
    }

    .choice-label input[type="radio"] {
      display: none;
    }

    .choice-label input[type="radio"]:checked + .choice-content {
      color: #4f46e5;
    }

    .choice-label input[type="radio"]:checked ~ * {
      color: #4f46e5;
    }

    .choice-label:has(input[type="radio"]:checked) {
      border-color: #6366f1;
      background: #eef2ff;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.2);
    }

    .choice-content {
      text-align: center;
    }

    .choice-main {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 4px;
    }

    .choice-anchor {
      font-size: 12px;
      color: var(--gris-texte);
    }

    /* Submit Section */
    .submit-section {
      text-align: center;
      margin-top: 48px;
    }

    .submit-info {
      font-size: 15px;
      color: var(--gris-texte);
      margin-bottom: 24px;
    }

    /* Results Styles */
    .results-container {
      max-width: 1100px;
      margin: 60px auto;
      padding: 0 24px;
    }

    .result-hero {
      background: white;
      border-radius: 24px;
      padding: 48px;
      text-align: center;
      margin-bottom: 32px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
      border: 4px solid;
    }

    .result-hero.severe {
      border-color: #ef4444;
      background: linear-gradient(135deg, #fef2f2 0%, #fff 100%);
    }

    .result-hero.elevated {
      border-color: #f97316;
      background: linear-gradient(135deg, #fff7ed 0%, #fff 100%);
    }

    .result-hero.moderate {
      border-color: #eab308;
      background: linear-gradient(135deg, #fefce8 0%, #fff 100%);
    }

    .result-hero.fatigue {
      border-color: #84cc16;
      background: linear-gradient(135deg, #f7fee7 0%, #fff 100%);
    }

    .result-hero.satisfactory {
      border-color: #10b981;
      background: linear-gradient(135deg, #ecfdf5 0%, #fff 100%);
    }

    .result-badge {
      display: inline-block;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 8px 20px;
      border-radius: 24px;
      margin-bottom: 20px;
      background: rgba(0, 0, 0, 0.05);
      color: var(--noir);
    }

    .result-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 52px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 16px;
    }

    .result-score {
      font-size: 36px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 24px;
    }

    .result-message {
      font-size: 18px;
      line-height: 1.7;
      color: var(--gris-texte);
      max-width: 800px;
      margin: 0 auto;
    }

    .results-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 32px;
      margin-bottom: 32px;
    }

    .result-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
    }

    .result-card-title {
      font-family: 'Cormorant Garamond', serif;
      font-size: 28px;
      font-weight: 700;
      color: var(--noir);
      margin-bottom: 28px;
    }

    .dimension-result {
      margin-bottom: 28px;
    }

    .dimension-result:last-child {
      margin-bottom: 0;
    }

    .dimension-result-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 12px;
    }

    .dimension-result-name {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 16px;
      font-weight: 600;
      color: var(--noir);
    }

    .dimension-result-value {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      font-weight: 600;
      color: var(--gris-texte);
    }

    .dimension-progress {
      width: 100%;
      height: 12px;
      background: #f3f4f6;
      border-radius: 6px;
      overflow: hidden;
    }

    .dimension-progress-fill {
      height: 100%;
      border-radius: 6px;
      transition: width 1s ease;
    }

    .dimension-progress-fill.rose {
      background: linear-gradient(90deg, #fb7185 0%, #f43f5e 100%);
    }

    .dimension-progress-fill.purple {
      background: linear-gradient(90deg, #c084fc 0%, #a855f7 100%);
    }

    .dimension-progress-fill.emerald {
      background: linear-gradient(90deg, #34d399 0%, #10b981 100%);
    }

    .recommendation-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .recommendation-item {
      display: flex;
      gap: 16px;
      margin-bottom: 20px;
      font-size: 16px;
      line-height: 1.6;
      color: var(--gris-texte);
    }

    .recommendation-item:last-child {
      margin-bottom: 0;
    }

    .recommendation-number {
      flex-shrink: 0;
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      font-weight: 700;
    }

    .export-buttons {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .export-button {
      width: 100%;
      padding: 16px 24px;
      border-radius: 12px;
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 15px;
      font-weight: 700;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }

    .export-button.primary {
      background: var(--noir);
      color: white;
    }

    .export-button.primary:hover {
      background: #374151;
      transform: translateY(-2px);
    }

    .export-button.secondary {
      background: #4b5563;
      color: white;
    }

    .export-button.secondary:hover {
      background: #6b7280;
      transform: translateY(-2px);
    }

    .email-section {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 2px solid #f3f4f6;
    }

    .email-label {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      font-weight: 600;
      color: var(--noir);
      margin-bottom: 12px;
      display: block;
    }

    .email-input-group {
      display: flex;
      gap: 12px;
    }

    .email-input {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 15px;
      font-family: 'Source Sans Pro', sans-serif;
      transition: all 0.3s ease;
    }

    .email-input:focus {
      outline: none;
      border-color: #6366f1;
    }

    .email-button {
      padding: 12px 24px;
      background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .email-button:hover:not(:disabled) {
      transform: translateY(-2px);
    }

    .email-button:disabled {
      background: #d1d5db;
      cursor: not-allowed;
    }

    .reset-link {
      display: block;
      text-align: center;
      margin-top: 20px;
      color: var(--gris-texte);
      font-size: 15px;
      text-decoration: underline;
      cursor: pointer;
      transition: color 0.3s ease;
    }

    .reset-link:hover {
      color: var(--noir);
    }

    /* Footer NOÉSIS */
    footer {
      background-color: #2A2A2A;
      color: #E8E8E4;
      padding: 64px 40px 32px;
      margin-top: 80px;
    }

    .footer-columns {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 48px;
      margin-bottom: 48px;
    }

    .footer-columns h4 {
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--bordeaux-leger);
      margin-bottom: 16px;
    }

    .footer-columns p {
      font-family: 'Crimson Text', serif;
      font-size: 15px;
      line-height: 1.7;
      margin-bottom: 12px;
    }

    .footer-columns a {
      font-family: 'Crimson Text', serif;
      color: #E8E8E4;
      text-decoration: none;
      font-size: 15px;
      display: block;
      margin-bottom: 8px;
      transition: color 0.3s ease;
    }

    .footer-columns a:hover {
      color: var(--bordeaux-leger);
    }

    .copyright {
      text-align: center;
      padding-top: 32px;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      font-family: 'Source Sans Pro', sans-serif;
      font-size: 13px;
      color: #999;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 36px;
      }

      .dimensions-grid {
        grid-template-columns: 1fr;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .choices-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .results-grid {
        grid-template-columns: 1fr;
      }

      nav ul {
        flex-direction: column;
        gap: 12px;
      }
    }

    /* Print Styles */
    @media print {
      .no-print {
        display: none !important;
      }

      body {
        background: white;
      }

      .result-hero {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <!-- URGENCE BANNER -->
  <div class="urgence-banner no-print">
    🚨 EN DANGER ? <a href="tel:3919">3919</a> | SMS : <a href="sms:114">114</a> | Urgences : <a href="tel:17">17</a>
  </div>

  <!-- NAVIGATION -->
  <nav class="no-print">
    <div class="container">
      <a href="../index.html" class="logo">Noésis</a>
      <ul>
        <li><a href="../index.html#accueil">Accueil</a></li>
        <li><a href="../index.html#methode">La Méthode</a></li>
        <li><a href="../index.html#articles">Articles</a></li>
        <li><a href="./">Auto-tests</a></li>
        <li><a href="../accompagnement.html">Accompagnement</a></li>
        <li><a href="../index.html#contact">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- CONTENU PRINCIPAL -->
  <div id="app"></div>

  <!-- FOOTER -->
  <footer class="no-print">
    <div class="footer-columns">
      <div>
        <h4>NOÉSIS</h4>
        <p style="margin-bottom: 16px;">Transformer la confusion en lucidité</p>
        <p style="font-size: 14px; line-height: 1.6;">Maison d'édition intellectuelle ultra-premium spécialisée dans l'analyse transdisciplinaire de l'emprise psychologique.</p>
      </div>
      <div>
        <h4>Navigation</h4>
        <a href="../index.html#accueil">Accueil</a>
        <a href="../index.html#methode">La Méthode</a>
        <a href="../index.html#articles">Articles</a>
        <a href="./">Auto-tests</a>
        <a href="../accompagnement.html">Accompagnement</a>
      </div>
      <div>
        <h4>Ressources</h4>
        <a href="../documents/CGP-NOESIS.pdf">Conditions Générales</a>
        <a href="tel:3919">3919 - Violences Femmes Info</a>
        <a href="sms:114">114 - Urgence SMS</a>
        <a href="tel:17">17 - Police / Gendarmerie</a>
      </div>
      <div>
        <h4>Contact</h4>
        <a href="mailto:noesisexplique@gmail.com">noesisexplique@gmail.com</a>
        <a href="https://instagram.com/noesis_analyse" target="_blank">Instagram</a>
        <a href="https://linkedin.com/company/noesis-analyse" target="_blank">LinkedIn</a>
      </div>
    </div>
    <div class="copyright">
      © 2025 NOÉSIS — Tous droits réservés
    </div>
  </footer>

  <script>
    // ============================================================
    // CONFIGURATION
    // ============================================================

    const DIMENSIONS = [
      { 
        key: "ee", 
        label: "Épuisement émotionnel", 
        color: "rose",
        description: "Vidage des ressources, fatigue chronique, irritabilité"
      },
      { 
        key: "dp", 
        label: "Dépersonnalisation", 
        color: "purple",
        description: "Distance émotionnelle, froideur, désengagement"
      },
      { 
        key: "pa", 
        label: "Accomplissement", 
        color: "emerald",
        description: "Sentiment d'efficacité, sens du travail"
      }
    ];

    const CHOICES = [
      { value: 0, label: "Jamais", anchor: "0 fois / 6 mois" },
      { value: 1, label: "Parfois", anchor: "1-3× / mois" },
      { value: 2, label: "Souvent", anchor: "1-3× / semaine" },
      { value: 3, label: "Très souvent", anchor: "Quasi quotidien" }
    ];

    const QUESTIONS = [
      // Épuisement émotionnel (15)
      {id:"Q1", dim:"ee", text:"Je me sens vidé·e émotionnellement par mon travail."},
      {id:"Q2", dim:"ee", text:"Je me réveille déjà fatigué·e à l'idée de ma journée."},
      {id:"Q3", dim:"ee", text:"Mon énergie chute fortement avant la fin de la journée."},
      {id:"Q4", dim:"ee", text:"Je n'arrive pas à 'débrancher' après le travail."},
      {id:"Q5", dim:"ee", text:"Je dors mal à cause de ruminations professionnelles."},
      {id:"Q6", dim:"ee", text:"Je ressens des tensions physiques (dos, ventre, migraines)."},
      {id:"Q7", dim:"ee", text:"Je fais plus d'erreurs par surcharge ou distraction."},
      {id:"Q8", dim:"ee", text:"Je manque de patience pour des tâches habituelles."},
      {id:"Q9", dim:"ee", text:"Je me sens à la limite de mes capacités la plupart du temps."},
      {id:"Q10", dim:"ee", text:"J'ai besoin d'urgences pour rester mobilisé·e."},
      {id:"Q11", dim:"ee", text:"Je reporte des tâches simples faute d'énergie mentale."},
      {id:"Q12", dim:"ee", text:"Je tombe plus souvent malade ou épuisé·e qu'avant."},
      {id:"Q13", dim:"ee", text:"Je me sens à fleur de peau et irritable au travail."},
      {id:"Q14", dim:"ee", text:"Je me surprends à pleurer ou à me renfermer après le travail."},
      {id:"Q15", dim:"ee", text:"Je n'arrive plus à récupérer même après un week-end."},
      
      // Dépersonnalisation / Cynisme (15)
      {id:"Q16", dim:"dp", text:"Je deviens sarcastique ou amer·e envers collègues/usagers."},
      {id:"Q17", dim:"dp", text:"Je me coupe émotionnellement pour 'tenir'."},
      {id:"Q18", dim:"dp", text:"Je parle des gens comme de dossiers ou de chiffres."},
      {id:"Q19", dim:"dp", text:"Je me sens détaché·e de la finalité de mon travail."},
      {id:"Q20", dim:"dp", text:"Je réponds en pilote automatique, sans réelle présence."},
      {id:"Q21", dim:"dp", text:"Je nourris des pensées cyniques sur mon organisation."},
      {id:"Q22", dim:"dp", text:"Je me protège en évitant les interactions quand c'est possible."},
      {id:"Q23", dim:"dp", text:"Je ressens une froideur qui ne me ressemble pas."},
      {id:"Q24", dim:"dp", text:"Je minimise la souffrance ou les besoins des autres."},
      {id:"Q25", dim:"dp", text:"Je redoute le contact avec le public/patients/clients."},
      {id:"Q26", dim:"dp", text:"Je n'ai plus envie d'aider ou de m'impliquer."},
      {id:"Q27", dim:"dp", text:"Je m'isole pendant les pauses pour ne pas parler."},
      {id:"Q28", dim:"dp", text:"Je rejette les nouveautés par réflexe ('à quoi bon')."},
      {id:"Q29", dim:"dp", text:"Je me sens indifférent·e aux réussites de l'équipe."},
      {id:"Q30", dim:"dp", text:"Je me surprends à déshumaniser certaines situations."},
      
      // Accomplissement personnel (15)
      {id:"Q31", dim:"pa", text:"Je vois l'impact utile de mon travail pour autrui."},
      {id:"Q32", dim:"pa", text:"J'éprouve de la fierté pour des tâches bien réalisées."},
      {id:"Q33", dim:"pa", text:"Je me sens compétent·e sur mes missions clés."},
      {id:"Q34", dim:"pa", text:"Je peux apprendre/progresser régulièrement."},
      {id:"Q35", dim:"pa", text:"Je reçois des retours constructifs et exploitables."},
      {id:"Q36", dim:"pa", text:"Je peux organiser mon travail avec une certaine autonomie."},
      {id:"Q37", dim:"pa", text:"Je me sens soutenu·e par mes collègues ou hiérarchie."},
      {id:"Q38", dim:"pa", text:"Mes efforts sont reconnus (au moins parfois)."},
      {id:"Q39", dim:"pa", text:"Je peux mobiliser mes compétences principales."},
      {id:"Q40", dim:"pa", text:"Je trouve un sens à mon travail malgré les difficultés."},
      {id:"Q41", dim:"pa", text:"J'ai des moments de satisfaction réelle dans ma journée."},
      {id:"Q42", dim:"pa", text:"Je peux prendre des décisions sur des points importants."},
      {id:"Q43", dim:"pa", text:"Mon travail me procure un sentiment d'utilité."},
      {id:"Q44", dim:"pa", text:"Je vois que j'ai un impact positif sur d'autres personnes."},
      {id:"Q45", dim:"pa", text:"Je garde une forme d'espoir ou d'engagement malgré tout."}
    ];

    const RESULT_BANDS = [
      {
        band: "Épuisement Sévère",
        min: 91,
        max: 135,
        colorClass: "severe",
        message: "Score indicateur d'un épuisement professionnel sévère. Les trois dimensions du burn-out (épuisement émotionnel, dépersonnalisation, baisse d'accomplissement) sont significativement altérées. Intervention urgente recommandée.",
        recommendations: [
          "Consulter immédiatement la médecine du travail pour évaluation et mise en place de mesures de protection",
          "Prendre contact avec un psychologue du travail ou psychothérapeute spécialisé (TCC, EMDR, ACT)",
          "Envisager un arrêt de travail thérapeutique si pas encore en place",
          "Alerter la direction/RH formellement sur la situation (par écrit, médecin du travail)",
          "Consulter un avocat spécialisé en droit du travail si facteurs organisationnels identifiés"
        ]
      },
      {
        band: "Épuisement Élevé",
        min: 68,
        max: 90,
        colorClass: "elevated",
        message: "Score révélateur d'un épuisement professionnel élevé. Au moins deux dimensions MBI sont fortement impactées. Risque élevé d'aggravation sans intervention structurelle.",
        recommendations: [
          "Prendre rendez-vous avec la médecine du travail pour bilan et préconisations",
          "Initier un suivi psychologique spécialisé dans le burn-out",
          "Documenter formellement les facteurs de risque organisationnels",
          "Explorer les possibilités d'aménagement : télétravail, réduction temporaire",
          "Mobiliser les dispositifs internes (référent harcèlement, CHSCT/CSE)"
        ]
      },
      {
        band: "Épuisement Modéré",
        min: 46,
        max: 67,
        colorClass: "moderate",
        message: "Score suggérant un épuisement professionnel modéré avec signes d'alerte installés. Une ou deux dimensions commencent à être affectées. Zone de vigilance nécessitant des ajustements.",
        recommendations: [
          "Signaler la situation à la médecine du travail en visite de prévention",
          "Entamer un travail d'analyse des facteurs de stress avec un professionnel",
          "Mettre en place des micro-régulations : pauses effectives, déconnexion",
          "Évaluer la charge réelle vs moyens et solliciter redistribution si déséquilibre",
          "Renforcer les ressources protectrices : soutien social, activités extra-professionnelles"
        ]
      },
      {
        band: "Fatigue Professionnelle",
        min: 23,
        max: 45,
        colorClass: "fatigue",
        message: "Score indiquant une fatigue professionnelle sans critères de burn-out constitué. Quelques signaux isolés présents, mais ressources encore mobilisables. Prévention primaire conseillée.",
        recommendations: [
          "Identifier les sources spécifiques de tension et ajuster",
          "Maintenir une hygiène de vie protectrice : sommeil, activité physique",
          "Préserver des espaces de récupération réguliers",
          "Développer des stratégies de régulation émotionnelle",
          "Rester attentif aux évolutions et ne pas hésiter à consulter"
        ]
      },
      {
        band: "Équilibre Satisfaisant",
        min: 0,
        max: 22,
        colorClass: "satisfactory",
        message: "Score ne révélant pas de signes significatifs d'épuisement professionnel. L'équilibre entre ressources et contraintes semble préservé. Les dimensions protectrices sont mobilisables.",
        recommendations: [
          "Maintenir les facteurs protecteurs actuels",
          "Rester vigilant aux évolutions organisationnelles",
          "Cultiver les ressources personnelles",
          "Pratiquer une veille sur les signaux précoces",
          "Partager les stratégies efficaces avec les collègues"
        ]
      }
    ];

    // ============================================================
    // STATE MANAGEMENT
    // ============================================================

    let state = {
      view: 'intro', // 'intro' | 'questionnaire' | 'results'
      answers: {},
      email: ''
    };

    // ============================================================
    // RENDERING FUNCTIONS
    // ============================================================

    function render() {
      const app = document.getElementById('app');
      
      if (state.view === 'intro') {
        app.innerHTML = renderIntro();
      } else if (state.view === 'questionnaire') {
        app.innerHTML = renderQuestionnaire();
      } else if (state.view === 'results') {
        app.innerHTML = renderResults();
      }

      attachEventListeners();
    }

    function renderIntro() {
      return `
        <div class="main-container">
          <div class="hero-card">
            <div class="hero-icon">🧠</div>
            <h1 class="hero-title">Burn-out : Stade d'Épuisement</h1>
            <p class="hero-subtitle">Grille d'évaluation clinique — Modèle MBI</p>

            <div class="warning-box">
              <div class="warning-title">
                ⚠️ Avertissement méthodologique
              </div>
              <div class="warning-text">
                Cet auto-test de 45 items <strong>ne remplace pas un diagnostic médical</strong>. Il s'agit d'une grille d'évaluation basée sur le modèle MBI (Maslach Burnout Inventory) pour identifier les symptômes d'épuisement professionnel. En cas de scores élevés, une consultation médicale est indispensable.
              </div>
            </div>

            <div class="methodology-section">
              <div class="methodology-title">
                🔍 Méthodologie
              </div>

              <div class="dimensions-grid">
                <div class="dimension-badge rose">Épuisement émotionnel</div>
                <div class="dimension-badge purple">Dépersonnalisation</div>
                <div class="dimension-badge emerald">Accomplissement</div>
              </div>

              <div class="methodology-text">
                Ce test évalue <strong>trois dimensions du burn-out professionnel</strong> selon le modèle MBI : l'épuisement émotionnel (vidage des ressources), la dépersonnalisation/cynisme (distance émotionnelle) et l'accomplissement personnel (sentiment d'efficacité). Évaluation sur les <strong>6 derniers mois</strong>.
              </div>
            </div>

            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-icon">⏱️</div>
                <div class="stat-value">14-18 min</div>
                <div class="stat-label">Durée estimée</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">📊</div>
                <div class="stat-value">45 questions</div>
                <div class="stat-label">Questionnaire MBI</div>
              </div>
              <div class="stat-item">
                <div class="stat-icon">📈</div>
                <div class="stat-value">3 dimensions</div>
                <div class="stat-label">Analyse multi-axes</div>
              </div>
            </div>

            <button class="cta-button" onclick="startTest()">
              Commencer le test →
            </button>
          </div>
        </div>
      `;
    }

    function renderQuestionnaire() {
      const allAnswered = QUESTIONS.every(q => state.answers[q.id] !== undefined);
      const answeredCount = Object.keys(state.answers).length;

      let html = '<div class="main-container">';

      DIMENSIONS.forEach(dim => {
        const dimQuestions = QUESTIONS.filter(q => q.dim === dim.key);
        const dimAnswered = dimQuestions.filter(q => state.answers[q.id] !== undefined).length;
        const progress = (dimAnswered / dimQuestions.length) * 100;

        html += `
          <div class="questionnaire-container">
            <h2 class="dimension-header">${dim.label}</h2>
            <p class="dimension-description">${dim.description}</p>
            <div class="progress-bar">
              <div class="progress-fill" style="width: ${progress}%"></div>
            </div>
        `;

        dimQuestions.forEach(q => {
          html += `
            <div class="question-block">
              <div class="question-text">
                <span class="question-number">${q.id}</span>
                ${q.text}
              </div>
              <div class="choices-grid">
          `;

          CHOICES.forEach(choice => {
            const checked = state.answers[q.id] === choice.value ? 'checked' : '';
            html += `
              <label class="choice-label">
                <input 
                  type="radio" 
                  name="${q.id}" 
                  value="${choice.value}"
                  ${checked}
                  onchange="handleAnswer('${q.id}', ${choice.value})"
                >
                <div class="choice-content">
                  <div class="choice-main">${choice.label}</div>
                  <div class="choice-anchor">${choice.anchor}</div>
                </div>
              </label>
            `;
          });

          html += `
              </div>
            </div>
          `;
        });

        html += '</div>';
      });

      html += `
        <div class="submit-section">
          <div class="submit-info">
            ${allAnswered 
              ? 'Toutes les questions ont été répondues. Cliquez pour analyser vos résultats.' 
              : `Complétez toutes les questions (${answeredCount}/${QUESTIONS.length})`
            }
          </div>
          <button 
            class="cta-button" 
            ${!allAnswered ? 'style="opacity: 0.5; cursor: not-allowed;"' : ''}
            onclick="submitTest()"
            ${!allAnswered ? 'disabled' : ''}
          >
            ${allAnswered ? '✓ Analyser mes résultats' : 'Complétez toutes les questions'}
          </button>
        </div>
      `;

      html += '</div>';
      return html;
    }

    function renderResults() {
      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      return `
        <div class="results-container">
          <div class="result-hero ${resultBand.colorClass}">
            <div class="result-badge">Votre Résultat</div>
            <h1 class="result-title">${resultBand.band}</h1>
            <div class="result-score">${scores.total}/135 points</div>
            <div class="result-message">${resultBand.message}</div>
          </div>

          <div class="results-grid">
            <div class="result-card">
              <h2 class="result-card-title">Scores par Dimension MBI</h2>
              ${renderDimensionScores(scores.dimensions)}
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Recommandations</h2>
              <ul class="recommendation-list">
                ${resultBand.recommendations.map((rec, idx) => `
                  <li class="recommendation-item">
                    <div class="recommendation-number">${idx + 1}</div>
                    <div>${rec}</div>
                  </li>
                `).join('')}
              </ul>
            </div>
          </div>

          <div class="results-grid">
            <div class="result-card">
              <h2 class="result-card-title">Analyse de Profil</h2>
              <div style="padding: 20px; background: linear-gradient(135deg, #eef2ff 0%, #faf5ff 100%); border-radius: 12px; border-left: 4px solid #6366f1;">
                <h3 style="font-family: 'Source Sans Pro', sans-serif; font-size: 16px; font-weight: 700; color: #4338ca; margin-bottom: 12px;">
                  Dimension dominante : ${DIMENSIONS.find(d => d.key === profile.dominant).label}
                </h3>
                <p style="font-size: 16px; line-height: 1.7; color: var(--gris-texte);">
                  ${profile.analysis}
                </p>
              </div>

              <div style="margin-top: 24px; padding-top: 24px; border-top: 2px solid #f3f4f6;">
                <h3 style="font-family: 'Source Sans Pro', sans-serif; font-size: 16px; font-weight: 700; margin-bottom: 16px;">Ressources utiles</h3>
                <div style="font-size: 15px; line-height: 2; color: var(--gris-texte);">
                  <div><strong style="color: var(--noir);">3114</strong> — Numéro national prévention suicide</div>
                  <div><strong style="color: var(--noir);">Médecine du travail</strong> — Évaluation et protection</div>
                </div>
              </div>
            </div>

            <div class="result-card">
              <h2 class="result-card-title">Exporter les résultats</h2>
              <div class="export-buttons">
                <button class="export-button primary" onclick="handlePDF()">
                  📄 Télécharger en PDF
                </button>
                <button class="export-button secondary" onclick="handleDownloadJSON()">
                  💾 Télécharger en JSON
                </button>
              </div>

              <div class="email-section">
                <label class="email-label">Envoyer par email</label>
                <div class="email-input-group">
                  <input 
                    type="email" 
                    class="email-input" 
                    placeholder="email@exemple.com"
                    value="${state.email}"
                    onchange="state.email = this.value"
                  >
                  <button 
                    class="email-button" 
                    onclick="handleEmail()"
                    ${!state.email ? 'disabled' : ''}
                  >
                    📧
                  </button>
                </div>
              </div>

              <a class="reset-link" onclick="resetTest()">
                Refaire le test
              </a>
            </div>
          </div>

          <div style="text-align: center; margin-top: 48px; font-size: 13px; color: var(--gris-texte); line-height: 1.8;">
            <p style="font-weight: 600;">NOÉSIS — Burn-out Épuisement v1.0 • © 2025</p>
            <p>Outil de pré-diagnostic d'orientation • Pas un diagnostic médical</p>
            <p>Confidentialité : aucune donnée collectée sans action explicite (RGPD)</p>
          </div>
        </div>
      `;
    }

    function renderDimensionScores(dimensionScores) {
      let html = '';
      
      DIMENSIONS.forEach(dim => {
        const score = dimensionScores[dim.key];
        const max = QUESTIONS.filter(q => q.dim === dim.key).length * 3;
        const percentage = Math.round((score / max) * 100);

        html += `
          <div class="dimension-result">
            <div class="dimension-result-header">
              <span class="dimension-result-name">${dim.label}</span>
              <span class="dimension-result-value">${score}/${max} (${percentage}%)</span>
            </div>
            <div class="dimension-progress">
              <div class="dimension-progress-fill ${dim.color}" style="width: ${percentage}%"></div>
            </div>
          </div>
        `;
      });

      return html;
    }

    // ============================================================
    // CALCULATIONS
    // ============================================================

    function calculateScores() {
      const dimensions = { ee: 0, dp: 0, pa: 0 };
      
      QUESTIONS.forEach(q => {
        if (state.answers[q.id] !== undefined) {
          dimensions[q.dim] += state.answers[q.id];
        }
      });

      const total = dimensions.ee + dimensions.dp + dimensions.pa;

      return { dimensions, total };
    }

    function getResultBand(totalScore) {
      return RESULT_BANDS.find(band => 
        totalScore >= band.min && totalScore <= band.max
      ) || RESULT_BANDS[RESULT_BANDS.length - 1];
    }

    function analyzeProfile(dimensionScores) {
      const { ee, dp, pa } = dimensionScores;
      const maxEE = QUESTIONS.filter(q => q.dim === 'ee').length * 3;
      const maxDP = QUESTIONS.filter(q => q.dim === 'dp').length * 3;
      const maxPA = QUESTIONS.filter(q => q.dim === 'pa').length * 3;

      const percEE = (ee / maxEE) * 100;
      const percDP = (dp / maxDP) * 100;
      const percPA = (pa / maxPA) * 100;

      let dominant = 'ee';
      let maxPerc = percEE;
      if (percDP > maxPerc) { dominant = 'dp'; maxPerc = percDP; }
      if (percPA > maxPerc) { dominant = 'pa'; }

      let analysis = "";

      if (dominant === 'ee') {
        analysis = "Profil à dominante d'épuisement émotionnel. Vous présentez des signes de vidage énergétique marqué, fatigue chronique et irritabilité. Priorité : restaurer les ressources physiologiques et psychologiques de base.";
      } else if (dominant === 'dp') {
        analysis = "Profil à dominante de dépersonnalisation/cynisme. Vous avez développé une distance émotionnelle protectrice face à l'environnement professionnel. Attention au risque de désengagement progressif et d'isolement relationnel.";
      } else {
        if (percPA > 50) {
          analysis = "Profil protégé par un accomplissement personnel encore préservé. Malgré des difficultés, vous maintenez un sens et une efficacité perçue. Levier protecteur à consolider absolument.";
        } else {
          analysis = "Profil marqué par une baisse significative de l'accomplissement personnel. Vous ressentez une perte de sens, d'efficacité ou de reconnaissance. Risque d'effondrement motivationnel si non pris en charge.";
        }
      }

      return { dominant, analysis };
    }

    // ============================================================
    // EVENT HANDLERS
    // ============================================================

    function startTest() {
      state.view = 'questionnaire';
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handleAnswer(questionId, value) {
      state.answers[questionId] = value;
      render();
    }

    function submitTest() {
      const allAnswered = QUESTIONS.every(q => state.answers[q.id] !== undefined);
      if (allAnswered) {
        state.view = 'results';
        render();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }
    }

    function resetTest() {
      state = {
        view: 'intro',
        answers: {},
        email: ''
      };
      render();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function handlePDF() {
      window.print();
    }

    function handleDownloadJSON() {
      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      const data = {
        test: "Burn-out : Stade d'Épuisement",
        version: "1.0",
        date: new Date().toISOString(),
        answers: state.answers,
        scores: scores,
        result: {
          band: resultBand.band,
          message: resultBand.message,
          recommendations: resultBand.recommendations
        },
        profile: profile
      };

      const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `noesis-burnout-${Date.now()}.json`;
      a.click();
    }

    function handleEmail() {
      if (!state.email) return;

      const scores = calculateScores();
      const resultBand = getResultBand(scores.total);
      const profile = analyzeProfile(scores.dimensions);

      const subject = encodeURIComponent(`Résultats Test Burn-out NOÉSIS`);
      const body = encodeURIComponent(`
Bonjour,

Voici mes résultats au test Burn-out : Stade d'Épuisement de NOÉSIS.

Score total : ${scores.total}/135
Résultat : ${resultBand.band}

${resultBand.message}

Scores détaillés :
- Épuisement émotionnel : ${scores.dimensions.ee}/${QUESTIONS.filter(q => q.dim === 'ee').length * 3}
- Dépersonnalisation/Cynisme : ${scores.dimensions.dp}/${QUESTIONS.filter(q => q.dim === 'dp').length * 3}
- Accomplissement personnel : ${scores.dimensions.pa}/${QUESTIONS.filter(q => q.dim === 'pa').length * 3}

Profil : ${profile.analysis}

Recommandations :
${resultBand.recommendations.map((r, i) => `${i+1}. ${r}`).join('\n')}

---
Test réalisé sur https://noesisautopsie.github.io/noesis-site/auto-tests/burn-out-stade-epuisement-noesis-tailwind.html
      `);

      window.location.href = `mailto:${state.email}?subject=${subject}&body=${body}`;
    }

    function attachEventListeners() {
      // Les event listeners sont déjà dans le HTML via onclick
    }

    // ============================================================
    // INITIALIZATION
    // ============================================================

    render();
  </script>
</body>
</html>
